<?xml version="1.0" encoding="utf-8"?><fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format" font-family="Helvetica,Symbol,ZapfDingbats" font-size="10pt" text-align="justify" line-height="1.4" font-selection-strategy="character-by-character" line-height-shift-adjustment="disregard-shifts" writing-mode="lr-tb" language="en"><fo:layout-master-set><fo:simple-page-master master-name="blank" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body display-align="center" margin-bottom="1.5cm" margin-top="1.5cm" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-blank" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-blank" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-blank" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-blank" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="lot-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="lot-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="lot-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="front-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="front-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="front-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="body-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="body-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="body-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="back-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="back-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="back-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="index-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-first" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-first" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="index-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-odd" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-odd" precedence="false" extent="0in"/></fo:simple-page-master><fo:simple-page-master master-name="index-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="1in" margin-right="1in"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2" margin-left="0in" margin-right="0in"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" precedence="true" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" precedence="true" display-align="after"/><fo:region-start border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-outer-even" precedence="false" extent="0in"/><fo:region-end border-width="0" padding="0" reference-orientation="90" region-name="xsl-region-inner-even" precedence="false" extent="0in"/></fo:simple-page-master><fo:page-sequence-master master-name="titlepage"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="titlepage-first" page-position="first"/><fo:conditional-page-master-reference master-reference="titlepage-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="titlepage-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="lot"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="lot-first" page-position="first"/><fo:conditional-page-master-reference master-reference="lot-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="lot-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="front"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="front-first" page-position="first"/><fo:conditional-page-master-reference master-reference="front-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="front-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="body"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="body-first" page-position="first"/><fo:conditional-page-master-reference master-reference="body-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="body-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="back"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="back-first" page-position="first"/><fo:conditional-page-master-reference master-reference="back-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="back-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="index"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="index-first" page-position="first"/><fo:conditional-page-master-reference master-reference="index-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="index-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master></fo:layout-master-set><fo:declarations xmlns:fox="http://xmlgraphics.apache.org/fop/extensions"><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:about=""><dc:title>Spring Cloud Data Flow Samples</dc:title></rdf:Description><rdf:Description xmlns:pdf="http://ns.adobe.com/pdf/1.3/" rdf:about=""/><rdf:Description xmlns:xmp="http://ns.adobe.com/xap/1.0/" rdf:about=""><xmp:CreatorTool>DocBook XSL Stylesheets with Apache FOP</xmp:CreatorTool></rdf:Description></rdf:RDF></x:xmpmeta></fo:declarations><fo:bookmark-tree><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="d0e3" starting-state="hide"><fo:bookmark-title>Spring Cloud Data Flow Samples</fo:bookmark-title></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="toc...d0e3"><fo:bookmark-title>Table of Contents</fo:bookmark-title></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-overview" starting-state="hide"><fo:bookmark-title>1. Overview</fo:bookmark-title></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_streaming" starting-state="hide"><fo:bookmark-title>2. Streaming</fo:bookmark-title><fo:bookmark internal-destination="spring-cloud-data-flow-samples-cassandra-overview" starting-state="hide"><fo:bookmark-title>2.1 Cassandra Samples</fo:bookmark-title><fo:bookmark internal-destination="spring-cloud-data-flow-samples-http-cassandra-overview" starting-state="hide"><fo:bookmark-title>HTTP to Cassandra Demo</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="http-cassandra-local" starting-state="hide"><fo:bookmark-title>Using the Local Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="http-cassandra-cf" starting-state="hide"><fo:bookmark-title>Using Cloud Foundry Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_2" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="_summary" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="spring-cloud-data-flow-samples-jdbc-overview" starting-state="hide"><fo:bookmark-title>2.2 JDBC Samples</fo:bookmark-title><fo:bookmark internal-destination="_http_to_mysql_demo" starting-state="hide"><fo:bookmark-title>HTTP to MySQL Demo</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites_2" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_using_local_server" starting-state="hide"><fo:bookmark-title>Using Local Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_3" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="_using_cloud_foundry_server" starting-state="hide"><fo:bookmark-title>Using Cloud Foundry Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_4" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="_summary_2" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="spring-cloud-data-flow-samples-gemfire-overview" starting-state="hide"><fo:bookmark-title>2.3 GemFire Samples</fo:bookmark-title><fo:bookmark internal-destination="spring-cloud-data-flow-samples-gemfire-http-overview" starting-state="hide"><fo:bookmark-title>HTTP to Gemfire Demo</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites_3" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="gemfire-http-local" starting-state="hide"><fo:bookmark-title>Using the Local Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_5" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_use_the_shell_to_create_the_sample_stream" starting-state="hide"><fo:bookmark-title>Use the Shell to create the sample stream</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="gemfire-http-cf" starting-state="hide"><fo:bookmark-title>Using the Cloud Foundry Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_6" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="_summary_3" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="spring-cloud-data-flow-samples-gemfire-log-overview" starting-state="hide"><fo:bookmark-title>Gemfire to Log Demo</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites_4" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="gemfire-log-local" starting-state="hide"><fo:bookmark-title>Using the Local Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_7" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_use_the_shell_to_create_the_sample_stream_2" starting-state="hide"><fo:bookmark-title>Use the Shell to create the sample stream.</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="gemfire-log-cf" starting-state="hide"><fo:bookmark-title>Using the Cloud Foundry Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_8" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="_summary_4" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="spring-cloud-data-flow-samples-gemfire-cq-log-overview" starting-state="hide"><fo:bookmark-title>Gemfire CQ to Log Demo</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites_5" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="gemfire-cq-log-local" starting-state="hide"><fo:bookmark-title>Using the Local Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_9" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="gemfire-cq-log-cf" starting-state="hide"><fo:bookmark-title>Using the Cloud Foundry Server</fo:bookmark-title><fo:bookmark internal-destination="_additional_prerequisites_10" starting-state="hide"><fo:bookmark-title>Additional Prerequisites</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="_summary_5" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="spring-cloud-data-flow-samples-custom-apps-overview" starting-state="hide"><fo:bookmark-title>2.4 Custom Stream Application Samples</fo:bookmark-title><fo:bookmark internal-destination="spring-cloud-data-flow-samples-custom-application-overview" starting-state="hide"><fo:bookmark-title>Custom Spring Cloud Stream Processor</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites_6" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_create_the_custom_stream_app" starting-state="hide"><fo:bookmark-title>Create the custom stream app</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_deploy_the_app_to_spring_cloud_data_flow" starting-state="hide"><fo:bookmark-title>Deploy the app to Spring Cloud Data Flow</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_summary_6" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_task_batch" starting-state="hide"><fo:bookmark-title>3. Task / Batch</fo:bookmark-title><fo:bookmark internal-destination="spring-cloud-data-flow-samples-task-overview" starting-state="hide"><fo:bookmark-title>3.1 Task Samples</fo:bookmark-title><fo:bookmark internal-destination="_batch_job_on_cloud_foundry" starting-state="hide"><fo:bookmark-title>Batch Job on Cloud Foundry</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites_7" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_summary_7" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_analytics" starting-state="hide"><fo:bookmark-title>4. Analytics</fo:bookmark-title><fo:bookmark internal-destination="spring-cloud-data-flow-samples-twitter-analytics-overview" starting-state="hide"><fo:bookmark-title>4.1 Twitter Analytics</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites_8" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_summary_8" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_functions" starting-state="hide"><fo:bookmark-title>5. Functions</fo:bookmark-title><fo:bookmark internal-destination="_functions_in_spring_cloud_data_flow" starting-state="hide"><fo:bookmark-title>5.1 Functions in Spring Cloud Data Flow</fo:bookmark-title><fo:bookmark internal-destination="_prerequisites_9" starting-state="hide"><fo:bookmark-title>Prerequisites</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="_summary_9" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark-tree><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="d0e3"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_streaming"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-cassandra-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-http-cassandra-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="http-cassandra-local"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="http-cassandra-cf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_2"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-jdbc-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_http_to_mysql_demo"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites_2"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_using_local_server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_3"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_using_cloud_foundry_server"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_4"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary_2"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-gemfire-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-gemfire-http-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites_3"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="gemfire-http-local"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_5"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_use_the_shell_to_create_the_sample_stream"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="gemfire-http-cf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_6"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary_3"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-gemfire-log-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites_4"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="gemfire-log-local"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_7"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_use_the_shell_to_create_the_sample_stream_2"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="gemfire-log-cf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_8"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary_4"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-gemfire-cq-log-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites_5"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="gemfire-cq-log-local"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_9"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="gemfire-cq-log-cf"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_additional_prerequisites_10"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary_5"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-custom-apps-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-custom-application-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites_6"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_create_the_custom_stream_app"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_deploy_the_app_to_spring_cloud_data_flow"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary_6"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_task_batch"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-task-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_batch_job_on_cloud_foundry"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites_7"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary_7"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_analytics"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-cloud-data-flow-samples-twitter-analytics-overview"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites_8"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary_8"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_functions"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_functions_in_spring_cloud_data_flow"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_prerequisites_9"/><fox:destination xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="_summary_9"/><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="titlepage" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"/></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="d0e3"><fo:block><fo:block><fo:block><fo:table table-layout="fixed" width="175mm"><fo:table-column column-width="175mm"/><fo:table-body><fo:table-row><fo:table-cell text-align="center"><fo:block><fo:external-graphic src="images/logo.svg" width="240px" height="auto" content-width="scale-to-fit" content-height="scale-to-fit" content-type="content-type:image/svg" text-align="center"/></fo:block><fo:block font-family="Helvetica" font-size="20pt" font-weight="bold" padding="10mm">Spring Cloud Data Flow Samples</fo:block><fo:block font-family="Helvetica" font-size="14pt" padding-before="2mm"/><fo:block font-family="Helvetica" font-size="14pt" padding="2mm">1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell text-align="center"><fo:block font-family="Helvetica" font-size="14pt" padding="5mm"/></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell text-align="center"><fo:block font-family="Helvetica" font-size="10pt" padding="10mm"/><fo:block font-family="Helvetica" font-size="10pt" padding="5mm"/><fo:block font-family="Helvetica" font-size="10pt" padding="5mm" padding-before="25em">Copyright © 2013-2017 Pivotal Software, Inc.</fo:block><fo:block font-family="Helvetica" font-size="8pt" padding="1mm">
		Copies of this document may be made for your own use and for distribution to
		others, provided that you do not charge any fee for such copies and further
		provided that each copy contains this Copyright Notice, whether distributed in
		print or electronically.
	</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="lot" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" id="toc...d0e3"><fo:block><fo:block><fo:block space-before.minimum="1em" space-before.optimum="1.5em" space-before.maximum="2em" space-after="0.5em" start-indent="0pt" font-size="17.28pt" font-weight="bold" font-family="Helvetica,Symbol,ZapfDingbats">Table of Contents</fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-overview">1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_streaming">2. Streaming</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_streaming"><fo:page-number-citation ref-id="_streaming"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3._streaming" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-cassandra-overview">2.1. Cassandra Samples</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-cassandra-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-cassandra-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-cassandra-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-http-cassandra-overview">HTTP to Cassandra Demo</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-http-cassandra-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-http-cassandra-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-http-cassandra-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites"><fo:page-number-citation ref-id="_prerequisites"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="http-cassandra-local">Using the Local Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="http-cassandra-local"><fo:page-number-citation ref-id="http-cassandra-local"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="http-cassandra-cf">Using Cloud Foundry Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="http-cassandra-cf"><fo:page-number-citation ref-id="http-cassandra-cf"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary"><fo:page-number-citation ref-id="_summary"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-jdbc-overview">2.2. JDBC Samples</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-jdbc-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-jdbc-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-jdbc-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_http_to_mysql_demo">HTTP to MySQL Demo</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_http_to_mysql_demo"><fo:page-number-citation ref-id="_http_to_mysql_demo"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3._http_to_mysql_demo" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites_2">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites_2"><fo:page-number-citation ref-id="_prerequisites_2"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_using_local_server">Using Local Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_using_local_server"><fo:page-number-citation ref-id="_using_local_server"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_using_cloud_foundry_server">Using Cloud Foundry Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_using_cloud_foundry_server"><fo:page-number-citation ref-id="_using_cloud_foundry_server"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary_2">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary_2"><fo:page-number-citation ref-id="_summary_2"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-gemfire-overview">2.3. GemFire Samples</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-gemfire-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-gemfire-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-gemfire-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-gemfire-http-overview">HTTP to Gemfire Demo</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-gemfire-http-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-gemfire-http-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-gemfire-http-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites_3">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites_3"><fo:page-number-citation ref-id="_prerequisites_3"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="gemfire-http-local">Using the Local Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="gemfire-http-local"><fo:page-number-citation ref-id="gemfire-http-local"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="gemfire-http-cf">Using the Cloud Foundry Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="gemfire-http-cf"><fo:page-number-citation ref-id="gemfire-http-cf"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary_3">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary_3"><fo:page-number-citation ref-id="_summary_3"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-gemfire-log-overview">Gemfire to Log Demo</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-gemfire-log-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-gemfire-log-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-gemfire-log-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites_4">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites_4"><fo:page-number-citation ref-id="_prerequisites_4"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="gemfire-log-local">Using the Local Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="gemfire-log-local"><fo:page-number-citation ref-id="gemfire-log-local"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="gemfire-log-cf">Using the Cloud Foundry Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="gemfire-log-cf"><fo:page-number-citation ref-id="gemfire-log-cf"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary_4">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary_4"><fo:page-number-citation ref-id="_summary_4"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-gemfire-cq-log-overview">Gemfire CQ to Log Demo</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-gemfire-cq-log-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-gemfire-cq-log-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-gemfire-cq-log-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites_5">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites_5"><fo:page-number-citation ref-id="_prerequisites_5"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="gemfire-cq-log-local">Using the Local Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="gemfire-cq-log-local"><fo:page-number-citation ref-id="gemfire-cq-log-local"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="gemfire-cq-log-cf">Using the Cloud Foundry Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="gemfire-cq-log-cf"><fo:page-number-citation ref-id="gemfire-cq-log-cf"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary_5">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary_5"><fo:page-number-citation ref-id="_summary_5"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-custom-apps-overview">2.4. Custom Stream Application Samples</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-custom-apps-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-custom-apps-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-custom-apps-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-custom-application-overview">Custom Spring Cloud Stream Processor</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-custom-application-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-custom-application-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-custom-application-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites_6">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites_6"><fo:page-number-citation ref-id="_prerequisites_6"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_create_the_custom_stream_app">Create the custom stream app</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_create_the_custom_stream_app"><fo:page-number-citation ref-id="_create_the_custom_stream_app"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_deploy_the_app_to_spring_cloud_data_flow">Deploy the app to Spring Cloud Data Flow</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_deploy_the_app_to_spring_cloud_data_flow"><fo:page-number-citation ref-id="_deploy_the_app_to_spring_cloud_data_flow"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary_6">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary_6"><fo:page-number-citation ref-id="_summary_6"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_task_batch">3. Task / Batch</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_task_batch"><fo:page-number-citation ref-id="_task_batch"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3._task_batch" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-task-overview">3.1. Task Samples</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-task-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-task-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-task-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_batch_job_on_cloud_foundry">Batch Job on Cloud Foundry</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_batch_job_on_cloud_foundry"><fo:page-number-citation ref-id="_batch_job_on_cloud_foundry"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3._batch_job_on_cloud_foundry" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites_7">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites_7"><fo:page-number-citation ref-id="_prerequisites_7"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary_7">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary_7"><fo:page-number-citation ref-id="_summary_7"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_analytics">4. Analytics</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_analytics"><fo:page-number-citation ref-id="_analytics"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3._analytics" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-cloud-data-flow-samples-twitter-analytics-overview">4.1. Twitter Analytics</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-cloud-data-flow-samples-twitter-analytics-overview"><fo:page-number-citation ref-id="spring-cloud-data-flow-samples-twitter-analytics-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3.spring-cloud-data-flow-samples-twitter-analytics-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites_8">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites_8"><fo:page-number-citation ref-id="_prerequisites_8"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary_8">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary_8"><fo:page-number-citation ref-id="_summary_8"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_functions">5. Functions</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_functions"><fo:page-number-citation ref-id="_functions"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3._functions" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_functions_in_spring_cloud_data_flow">5.1. Functions in Spring Cloud Data Flow</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_functions_in_spring_cloud_data_flow"><fo:page-number-citation ref-id="_functions_in_spring_cloud_data_flow"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.d0e3._functions_in_spring_cloud_data_flow" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_prerequisites_9">Prerequisites</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_prerequisites_9"><fo:page-number-citation ref-id="_prerequisites_9"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="_summary_9">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="_summary_9"><fo:page-number-citation ref-id="_summary_9"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="1" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="spring-cloud-data-flow-samples-overview"><fo:block font-family="Helvetica,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="18pt"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">1. Overview</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This guide contains samples and demonstrations of how to build data microservices applications with <fo:basic-link external-destination="url(https://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow</fo:inline></fo:basic-link>.</fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="_streaming"><fo:block font-family="Helvetica,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="18pt"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">2. Streaming</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-cassandra-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Cassandra Samples</fo:marker><fo:block font-size="15pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">2.1 Cassandra Samples</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-http-cassandra-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">HTTP to Cassandra Demo</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">HTTP to Cassandra Demo</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this demonstration, you will learn how to build a data pipeline using <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow</fo:inline></fo:basic-link> to consume data from an <fo:inline font-style="italic">HTTP</fo:inline> endpoint and write the payload to a <fo:inline font-style="italic">Cassandra</fo:inline> database.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We will take you through the steps to configure and Spring Cloud Data Flow server in either a <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started/)"><fo:inline text-decoration="underline" color="#204060">local</fo:inline></fo:basic-link> or <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#getting-started)"><fo:inline text-decoration="underline" color="#204060">Cloud Foundry</fo:inline></fo:basic-link> environment.</fo:block><fo:block id="_prerequisites"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e70"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e71"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e82"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e92">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e94"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="http-cassandra-local"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using the Local Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e106"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e107"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running local Data Flow Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Local Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-local/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Local Data Flow server Open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e122">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e124"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e125"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:basic-link external-destination="url(http://kafka.apache.org/downloads.html)"><fo:inline text-decoration="underline" color="#204060">Kafka</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e130"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:basic-link external-destination="url(http://cassandra.apache.org/)"><fo:inline text-decoration="underline" color="#204060">Apache Cassandra</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e135"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A database utility tool such as <fo:basic-link external-destination="url(http://dbeaver.jkiss.org/)"><fo:inline text-decoration="underline" color="#204060">DBeaver</fo:inline></fo:basic-link> to connect to the Cassandra instance. You might have to provide <fo:inline font-family="monospace">host</fo:inline>, <fo:inline font-family="monospace">port</fo:inline>, <fo:inline font-family="monospace">username</fo:inline> and <fo:inline font-family="monospace">password</fo:inline> depending on the Cassandra configuration you are using.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e153"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create a keyspace and a <fo:inline font-family="monospace">book</fo:inline> table in Cassandra using:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e159">CREATE KEYSPACE clouddata WITH REPLICATION = { 'class' : 'org.apache.cassandra.locator.SimpleStrategy', 'replication_factor': '1' } AND DURABLE_WRITES = true;
USE clouddata;
CREATE TABLE book  (
    id          uuid PRIMARY KEY,
    isbn        text,
    author      text,
    title       text
);</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e161"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e162"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Kafka binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e167"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e207">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-kafka-10-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e209"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e212">dataflow:&gt;stream create cassandrastream --definition "http --server.port=8888 --spring.cloud.stream.bindings.output.contentType='application/json' | cassandra --ingestQuery='insert into book (id, isbn, title, author) values (uuid(), ?, ?, ?)' --keyspace=clouddata" --deploy

Created and deployed new stream 'cassandrastream'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e214"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If Cassandra isn’t running on default port on <fo:inline font-family="monospace">localhost</fo:inline> or if you need username and password to connect, use one of the following options to specify the necessary connection parameters: <fo:inline font-family="monospace">--username='&lt;USERNAME&gt;' --password='&lt;PASSWORD&gt;' --port=&lt;PORT&gt; --contact-points=&lt;LIST-OF-HOSTS&gt;</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e222"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e225">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e227"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that <fo:inline font-family="monospace">cassandrastream-http</fo:inline> and <fo:inline font-family="monospace">cassandrastream-cassandra</fo:inline> <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters//)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Stream</fo:inline></fo:basic-link> applications are running as Spring Boot applications within the <fo:inline font-family="monospace">server</fo:inline> as a collocated process.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e242">2015-12-15 15:52:31.576  INFO 18337 --- [nio-9393-exec-1] o.s.c.d.a.s.l.OutOfProcessModuleDeployer : deploying module org.springframework.cloud.stream.module:cassandra-sink:jar:exec:1.0.0.BUILD-SNAPSHOT instance 0
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gp/T/spring-cloud-data-flow-284240942697761420/cassandrastream.cassandra
2015-12-15 15:52:31.583  INFO 18337 --- [nio-9393-exec-1] o.s.c.d.a.s.l.OutOfProcessModuleDeployer : deploying module org.springframework.cloud.stream.module:http-source:jar:exec:1.0.0.BUILD-SNAPSHOT instance 0
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gp/T/spring-cloud-data-flow-284240942697761420/cassandrastream.http</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e244"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Post sample data pointing to the <fo:inline font-family="monospace">http</fo:inline> endpoint: <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://localhost:8888)"><fo:inline text-decoration="underline" color="#204060">localhost:8888</fo:inline></fo:basic-link></fo:inline> (<fo:inline font-family="monospace">8888</fo:inline> is the <fo:inline font-family="monospace">server.port</fo:inline> we specified for the <fo:inline font-family="monospace">http</fo:inline> source in this case)</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e263">dataflow:&gt;http post --contentType 'application/json' --data '{"isbn": "1599869772", "title": "The Art of War", "author": "Sun Tzu"}' --target http://localhost:8888
&gt; POST (application/json;charset=UTF-8) http://localhost:8888 {"isbn": "1599869772", "title": "The Art of War", "author": "Sun Tzu"}
&gt; 202 ACCEPTED</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e265"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect to the Cassandra instance and query the table <fo:inline font-family="monospace">clouddata.book</fo:inline> to list the persisted records</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e271">select * from clouddata.book;</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e273"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="http-cassandra-cf"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using Cloud Foundry Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_2"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e282"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e283"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Cloud Foundry instance</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e286"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The Spring Cloud Data Flow Cloud Foundry Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Cloud Foundry Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow-server-cloudfoundry)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-cloudfoundry/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e299"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Although you can run the Data Flow Cloud Foundry Server locally and configure it to deploy to any Cloud Foundry instance, we will
deploy the server to Cloud Foundry as recommended.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e302"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e303"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify that CF instance is reachable (Your endpoint urls will be different from what is shown here).</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e306">$ cf api
API endpoint: https://api.system.io (API version: ...)

$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

No apps found</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e308"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Follow the instructions to deploy the <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow Cloud Foundry server</fo:inline></fo:basic-link>. Don’t worry about creating a Redis service. We won’t need it. If you are familiar with Cloud Foundry
application manifests, we recommend creating a manifest for the the Data Flow server as shown <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#sample-manifest-template)"><fo:inline text-decoration="underline" color="#204060">here</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e317"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/warning.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Warning</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As of this writing, there is a typo on the <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> entry in the sample manifest. <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> must be followed by <fo:inline font-family="monospace">:</fo:inline> and The JSON string must be
wrapped in single quotes. Alternatively, you can replace that line with <fo:inline font-family="monospace">MAVEN_REMOTE_REPOSITORIES_REPO1_URL: <fo:basic-link external-destination="url(https://repo.spring.io/libs-snapshot)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-snapshot</fo:inline></fo:basic-link></fo:inline>.  If your Cloud Foundry installation is behind a firewall, you may need to install the stream apps used in this sample in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/1.3.0.M2/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link> the server to access that repository.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e337"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Once you have successfully executed <fo:inline font-family="monospace">cf push</fo:inline>, verify the dataflow server is running</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e343">$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

name                 requested state   instances   memory   disk   urls
dataflow-server      started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e345"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that the <fo:inline font-family="monospace">dataflow-server</fo:inline> application is started and ready for interaction via the url endpoint</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e351"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect the <fo:inline font-family="monospace">shell</fo:inline> with <fo:inline font-family="monospace">server</fo:inline> running on Cloud Foundry, e.g., <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://dataflow-server.app.io)"><fo:inline text-decoration="underline" color="#204060">dataflow-server.app.io</fo:inline></fo:basic-link></fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e363">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar

  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
server-unknown:&gt;</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e365">server-unknown:&gt;dataflow config server http://dataflow-server.app.io
Successfully targeted http://dataflow-server.app.io
dataflow:&gt;</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e367"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e368"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:inline font-family="monospace">cassandra</fo:inline> in Cloud Foundry or from another Cloud provider</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e374"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A database utility tool such as <fo:basic-link external-destination="url(http://dbeaver.jkiss.org/)"><fo:inline text-decoration="underline" color="#204060">DBeaver</fo:inline></fo:basic-link> to connect to the Cassandra instance. You might have to provide <fo:inline font-family="monospace">host</fo:inline>, <fo:inline font-family="monospace">port</fo:inline>, <fo:inline font-family="monospace">username</fo:inline> and <fo:inline font-family="monospace">password</fo:inline> depending on the Cassandra configuration you are using.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e392"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create a <fo:inline font-family="monospace">book</fo:inline> table in your Cassandra keyspace using:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e398">CREATE TABLE book  (
    id          uuid PRIMARY KEY,
    isbn        text,
    author      text,
    title       text
);</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e400"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e405"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e445">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e447"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e450">dataflow:&gt;stream create cassandrastream --definition "http --spring.cloud.stream.bindings.output.contentType='application/json' | cassandra --ingestQuery='insert into book (id, isbn, title, author) values (uuid(), ?, ?, ?)' --username='&lt;USERNAME&gt;' --password='&lt;PASSWORD&gt;' --port=&lt;PORT&gt; --contact-points=&lt;HOST&gt; --keyspace='&lt;KEYSPACE&gt;'" --deploy

Created and deployed new stream 'cassandrastream'</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e452"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e455">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e457"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that <fo:inline font-family="monospace">cassandrastream-http</fo:inline> and <fo:inline font-family="monospace">cassandrastream-cassandra</fo:inline> <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Stream</fo:inline></fo:basic-link> applications are running as <fo:inline font-style="italic">cloud-native</fo:inline> (microservice) applications in Cloud Foundry</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e472">$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

name                        requested state   instances   memory   disk   urls
cassandrastream-cassandra   started           1/1         1G       1G     cassandrastream-cassandra.app.io
cassandrastream-http        started           1/1         1G       1G     cassandrastream-http.app.io
dataflow-server             started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e474"><fo:list-item-label end-indent="label-end()"><fo:block>10.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Lookup the <fo:inline font-family="monospace">url</fo:inline> for <fo:inline font-family="monospace">cassandrastream-http</fo:inline> application from the list above. Post sample data pointing to the <fo:inline font-family="monospace">http</fo:inline> endpoint: <fo:inline font-family="monospace">&lt;YOUR-cassandrastream-http-APP-URL&gt;</fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e488">http post --contentType 'application/json' --data '{"isbn": "1599869772", "title": "The Art of War", "author": "Sun Tzu"}' --target http://&lt;YOUR-cassandrastream-http-APP-URL&gt;
&gt; POST (application/json;charset=UTF-8) http://cassandrastream-http.app.io {"isbn": "1599869772", "title": "The Art of War", "author": "Sun Tzu"}
&gt; 202 ACCEPTED</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e490"><fo:list-item-label end-indent="label-end()"><fo:block>11.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect to the Cassandra instance and query the table <fo:inline font-family="monospace">book</fo:inline> to list the data inserted</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e496">select * from book;</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e498"><fo:list-item-label end-indent="label-end()"><fo:block>12.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Now, let’s try to take advantage of Pivotal Cloud Foundry’s platform capability. Let’s scale the <fo:inline font-family="monospace">cassandrastream-http</fo:inline> application from 1 to 3 instances</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e504">$ cf scale cassandrastream-http -i 3
Scaling app cassandrastream-http in org user-dataflow / space development as user...
OK</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e506"><fo:list-item-label end-indent="label-end()"><fo:block>13.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify App instances (3/3) running successfully</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e509">$ cf apps
Getting apps in org user-dataflow / space development as user...
OK

name                        requested state   instances   memory   disk   urls
cassandrastream-cassandra   started           1/1         1G       1G     cassandrastream-cassandra.app.io
cassandrastream-http        started           3/3         1G       1G     cassandrastream-http.app.io
dataflow-server             started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e511"><fo:list-item-label end-indent="label-end()"><fo:block>14.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="_summary"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e519"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e520"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> and <fo:inline font-family="monospace">Cloud Foundry</fo:inline> servers</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e529"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">shell</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e534"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to create streaming data pipeline to connect and write to <fo:inline font-family="monospace">Cassandra</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e539"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to scale data microservice applications on <fo:inline font-family="monospace">Pivotal Cloud Foundry</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-jdbc-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">JDBC Samples</fo:marker><fo:block font-size="15pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">2.2 JDBC Samples</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_http_to_mysql_demo"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">HTTP to MySQL Demo</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">HTTP to MySQL Demo</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this demonstration, you will learn how to build a data pipeline using <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow</fo:inline></fo:basic-link> to consume data from an <fo:inline font-family="monospace">http</fo:inline> endpoint and write to MySQL database using <fo:inline font-family="monospace">jdbc</fo:inline> sink.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We will take you through the steps to configure and Spring Cloud Data Flow server in either a <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started/)"><fo:inline text-decoration="underline" color="#204060">local</fo:inline></fo:basic-link> or <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#getting-started)"><fo:inline text-decoration="underline" color="#204060">Cloud Foundry</fo:inline></fo:basic-link> environment.</fo:block><fo:block id="_prerequisites_2"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e572"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e573"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e584"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e594">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e596"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="_using_local_server"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using Local Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_3"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e608"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e609"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running local Data Flow Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Local Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-local/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Local Data Flow server Open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e624">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e626"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e627"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:basic-link external-destination="url(http://kafka.apache.org/downloads.html)"><fo:inline text-decoration="underline" color="#204060">Kafka</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e632"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:basic-link external-destination="url(http://www.mysql.com/)"><fo:inline text-decoration="underline" color="#204060">MySQL</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e637"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A database utility tool such as <fo:basic-link external-destination="url(http://dbeaver.jkiss.org/)"><fo:inline text-decoration="underline" color="#204060">DBeaver</fo:inline></fo:basic-link> or <fo:basic-link external-destination="url(https://www.dbvis.com/)"><fo:inline text-decoration="underline" color="#204060">DbVisualizer</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e645"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the <fo:inline font-family="monospace">test</fo:inline> database with a <fo:inline font-family="monospace">names</fo:inline> table (in MySQL) using:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e654">CREATE DATABASE test;
USE test;
CREATE TABLE names
(
	name varchar(255)
);</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e656"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e657"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Kafka binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e662"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e702">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-kafka-10-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e704"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e707">dataflow:&gt;stream create --name mysqlstream --definition "http --server.port=8787 | jdbc --tableName=names --columns=name --spring.datasource.driver-class-name=org.mariadb.jdbc.Driver --spring.datasource.url='jdbc:mysql://localhost:3306/test'" --deploy

Created and deployed new stream 'mysqlstream'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e709"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If MySQL isn’t running on default port on <fo:inline font-family="monospace">localhost</fo:inline> or if you need username and password to connect, use one of the following options to specify the necessary connection parameters: <fo:inline font-family="monospace">--spring.datasource.url='jdbc:mysql://&lt;HOST&gt;:&lt;PORT&gt;/&lt;NAME&gt;' --spring.datasource.username=&lt;USERNAME&gt; --spring.datasource.password=&lt;PASSWORD&gt;</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e717"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e720">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e722"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that <fo:inline font-family="monospace">mysqlstream-http</fo:inline> and <fo:inline font-family="monospace">mysqlstream-jdbc</fo:inline> <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters//)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Stream</fo:inline></fo:basic-link> applications are running as Spring Boot applications within the Local <fo:inline font-family="monospace">server</fo:inline> as collocated processes.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e737">2016-05-03 09:29:55.918  INFO 65162 --- [nio-9393-exec-3] o.s.c.d.spi.local.LocalAppDeployer       : deploying app mysqlstream.jdbc instance 0
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gp/T/spring-cloud-dataflow-6850863945840320040/mysqlstream1-1462292995903/mysqlstream.jdbc
2016-05-03 09:29:55.939  INFO 65162 --- [nio-9393-exec-3] o.s.c.d.spi.local.LocalAppDeployer       : deploying app mysqlstream.http instance 0
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gp/T/spring-cloud-dataflow-6850863945840320040/mysqlstream-1462292995934/mysqlstream.http</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e739"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Post sample data pointing to the <fo:inline font-family="monospace">http</fo:inline> endpoint: <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://localhost:8787)"><fo:inline text-decoration="underline" color="#204060">localhost:8787</fo:inline></fo:basic-link></fo:inline> [<fo:inline font-family="monospace">8787</fo:inline> is the <fo:inline font-family="monospace">server.port</fo:inline> we specified for the <fo:inline font-family="monospace">http</fo:inline> source in this case]</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e758">dataflow:&gt;http post --contentType 'application/json' --target http://localhost:8787 --data "{\"name\": \"Foo\"}"
&gt; POST (application/json;charset=UTF-8) http://localhost:8787 {"name": "Spring Boot"}
&gt; 202 ACCEPTED</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">+</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e762"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e763"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect to the MySQL instance and query the table <fo:inline font-family="monospace">test.names</fo:inline> to list the new rows:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e769">select * from test.names;</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e771"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="_using_cloud_foundry_server"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using Cloud Foundry Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_4"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e780"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e781"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Cloud Foundry instance</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e784"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The Spring Cloud Data Flow Cloud Foundry Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Cloud Foundry Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow-server-cloudfoundry)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-cloudfoundry/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e797"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Although you can run the Data Flow Cloud Foundry Server locally and configure it to deploy to any Cloud Foundry instance, we will
deploy the server to Cloud Foundry as recommended.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e800"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e801"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify that CF instance is reachable (Your endpoint urls will be different from what is shown here).</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e804">$ cf api
API endpoint: https://api.system.io (API version: ...)

$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

No apps found</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e806"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Follow the instructions to deploy the <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow Cloud Foundry server</fo:inline></fo:basic-link>. Don’t worry about creating a Redis service. We won’t need it. If you are familiar with Cloud Foundry
application manifests, we recommend creating a manifest for the the Data Flow server as shown <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#sample-manifest-template)"><fo:inline text-decoration="underline" color="#204060">here</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e815"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/warning.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Warning</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As of this writing, there is a typo on the <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> entry in the sample manifest. <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> must be followed by <fo:inline font-family="monospace">:</fo:inline> and The JSON string must be
wrapped in single quotes. Alternatively, you can replace that line with <fo:inline font-family="monospace">MAVEN_REMOTE_REPOSITORIES_REPO1_URL: <fo:basic-link external-destination="url(https://repo.spring.io/libs-snapshot)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-snapshot</fo:inline></fo:basic-link></fo:inline>.  If your Cloud Foundry installation is behind a firewall, you may need to install the stream apps used in this sample in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/1.3.0.M2/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link> the server to access that repository.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e835"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Once you have successfully executed <fo:inline font-family="monospace">cf push</fo:inline>, verify the dataflow server is running</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e841">$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

name                 requested state   instances   memory   disk   urls
dataflow-server      started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e843"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that the <fo:inline font-family="monospace">dataflow-server</fo:inline> application is started and ready for interaction via the url endpoint</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e849"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect the <fo:inline font-family="monospace">shell</fo:inline> with <fo:inline font-family="monospace">server</fo:inline> running on Cloud Foundry, e.g., <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://dataflow-server.app.io)"><fo:inline text-decoration="underline" color="#204060">dataflow-server.app.io</fo:inline></fo:basic-link></fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e861">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar

  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
server-unknown:&gt;</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e863">server-unknown:&gt;dataflow config server http://dataflow-server.app.io
Successfully targeted http://dataflow-server.app.io
dataflow:&gt;</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e865"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e866"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:inline font-family="monospace">rabbit</fo:inline> in Cloud Foundry</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e872"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:inline font-family="monospace">mysql</fo:inline> in Cloud Foundry</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e878"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A database utility tool such as <fo:basic-link external-destination="url(http://dbeaver.jkiss.org/)"><fo:inline text-decoration="underline" color="#204060">DBeaver</fo:inline></fo:basic-link> or <fo:basic-link external-destination="url(https://www.dbvis.com/)"><fo:inline text-decoration="underline" color="#204060">DbVisualizer</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e886"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the <fo:inline font-family="monospace">names</fo:inline> table (in MySQL) using:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e892">CREATE TABLE names
(
	name varchar(255)
);</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e894"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e899"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e939">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e941"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e944">dataflow:&gt;stream create --name mysqlstream --definition "http | jdbc --tableName=names --columns=name"
Created new stream 'mysqlstream'

dataflow:&gt;stream deploy --name mysqlstream --properties "app.jdbc.spring.cloud.deployer.cloudfoundry.services=mysql"
Deployed stream 'mysqlstream'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e946"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By supplying  the <fo:inline font-family="monospace">app.jdbc.spring.cloud.deployer.cloudfoundry.services=mysql</fo:inline> property, we are deploying the stream with <fo:inline font-family="monospace">jdbc-sink</fo:inline> to automatically bind to <fo:inline font-family="monospace">mysql</fo:inline> service and only this application in the stream gets the service binding. This also eliminates the requirement to supply <fo:inline font-family="monospace">datasource</fo:inline> credentials in stream definition.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e961"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e964">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e966"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that <fo:inline font-family="monospace">mysqlstream-http</fo:inline> and <fo:inline font-family="monospace">mysqlstream-jdbc</fo:inline> <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Stream</fo:inline></fo:basic-link> applications are running as <fo:inline font-style="italic">cloud-native</fo:inline> (microservice) applications in Cloud Foundry</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e981">$ cf apps
Getting apps in org user-dataflow / space development as user...
OK

name                        requested state   instances   memory   disk   urls
mysqlstream-http            started           1/1         1G       1G     mysqlstream-http.app.io
mysqlstream-jdbc            started           1/1         1G       1G     mysqlstream-jdbc.app.io
dataflow-server             started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e983"><fo:list-item-label end-indent="label-end()"><fo:block>10.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Lookup the <fo:inline font-family="monospace">url</fo:inline> for <fo:inline font-family="monospace">mysqlstream-http</fo:inline> application from the list above. Post sample data pointing to the <fo:inline font-family="monospace">http</fo:inline> endpoint: <fo:inline font-family="monospace">&lt;YOUR-mysqlstream-http-APP-URL&gt;</fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e997">http post --contentType 'application/json' --target http://mysqlstream-http.app.io --data "{\"name\": \"Bar"}"
&gt; POST (application/json;charset=UTF-8) http://mysqlstream-http.app.io {"name": "Bar"}
&gt; 202 ACCEPTED</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e999"><fo:list-item-label end-indent="label-end()"><fo:block>11.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect to the MySQL instance and query the table <fo:inline font-family="monospace">names</fo:inline> to list the new rows:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1005">select * from names;</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1007"><fo:list-item-label end-indent="label-end()"><fo:block>12.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Now, let’s take advantage of Pivotal Cloud Foundry’s platform capability. Let’s scale the <fo:inline font-family="monospace">mysqlstream-http</fo:inline> application from 1 to 3 instances</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1013">$ cf scale mysqlstream-http -i 3
Scaling app mysqlstream-http in org user-dataflow / space development as user...
OK</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1015"><fo:list-item-label end-indent="label-end()"><fo:block>13.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify App instances (3/3) running successfully</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1018">$ cf apps
Getting apps in org user-dataflow / space development as user...
OK

name                        requested state   instances   memory   disk   urls
mysqlstream-http            started           3/3         1G       1G     mysqlstream-http.app.io
mysqlstream-jdbc            started           1/1         1G       1G     mysqlstream-jdbc.app.io
dataflow-server             started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1020"><fo:list-item-label end-indent="label-end()"><fo:block>14.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="_summary_2"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Summary</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1028"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1029"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> and <fo:inline font-family="monospace">Cloud Foundry</fo:inline> servers</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1038"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">shell</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1043"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to create streaming data pipeline to connect and write to <fo:inline font-family="monospace">MySQL</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1048"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to scale data microservice applications on <fo:inline font-family="monospace">Pivotal Cloud Foundry</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-gemfire-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">GemFire Samples</fo:marker><fo:block font-size="15pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">2.3 GemFire Samples</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-gemfire-http-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">HTTP to Gemfire Demo</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">HTTP to Gemfire Demo</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this demonstration, you will learn how to build a data pipeline using <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow</fo:inline></fo:basic-link> to consume data from an <fo:inline font-family="monospace">http</fo:inline> endpoint and write to Gemfire using the <fo:inline font-family="monospace">gemfire</fo:inline> sink.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We will take you through the steps to configure and run Spring Cloud Data Flow server in either a <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started/)"><fo:inline text-decoration="underline" color="#204060">local</fo:inline></fo:basic-link> or <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#getting-started)"><fo:inline text-decoration="underline" color="#204060">Cloud Foundry</fo:inline></fo:basic-link> environment.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1078"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For legacy reasons the <fo:inline font-family="monospace">gemfire</fo:inline> Spring Cloud Stream Apps are named after <fo:inline font-family="monospace">Pivotal GemFire</fo:inline>. The code base for the commercial product has since been open sourced as <fo:inline font-family="monospace">Apache Geode</fo:inline>. These samples should work with compatible versions of Pivotal GemFire or Apache Geode. Herein we will refer to the installed IMDG simply as <fo:inline font-family="monospace">Geode</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_prerequisites_3"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1096"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1097"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1108"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1118">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1120"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1126"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1127"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Geode installation with a locator and cache server running
Unresolved directive in streaming/gemfire/gemfire-http/overview.adoc - include::geode-setup.adoc[]</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="gemfire-http-local"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using the Local Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_5"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1136"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1137"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running local Data Flow Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Local Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-local/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Local Data Flow server Open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1152">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1154"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1155"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running instance of <fo:basic-link external-destination="url(https://www.rabbitmq.com)"><fo:inline text-decoration="underline" color="#204060">Rabbit MQ</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-after="1em"><fo:leader leader-pattern="rule" rule-thickness="0.5pt" rule-style="solid" leader-length.minimum="100%"/></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e1162"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1163"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Use gfsh to start a locator and server</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1166">gfsh&gt;start locator --name=locator1
gfsh&gt;start server --name=server1</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1168"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create a region called <fo:inline font-family="monospace">Stocks</fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1173">gfsh&gt;create region --name Stocks --type=REPLICATE</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_use_the_shell_to_create_the_sample_stream"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Use the Shell to create the sample stream</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e1178"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1179"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1184"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1224">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1226"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This example creates an http endpoint to which we will post stock prices as a JSON document containing <fo:inline font-family="monospace">symbol</fo:inline> and <fo:inline font-family="monospace">price</fo:inline> fields.
The property <fo:inline font-family="monospace">--json=true</fo:inline> to enable Geode’s JSON support and configures the sink to convert JSON String payloads to <fo:basic-link external-destination="url(https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/PdxInstance.html)"><fo:inline text-decoration="underline" color="#204060">PdxInstance</fo:inline></fo:basic-link>, the recommended way
to store JSON documents in Geode. The <fo:inline font-family="monospace">keyExpression</fo:inline> property is a SpEL expression used to extract the <fo:inline font-family="monospace">symbol</fo:inline> value the PdxInstance to use as an entry key.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1249"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">PDX serialization is very efficient and supports OQL queries without requiring a custom domain class.
Use of custom domain types requires these classes to be in the class path of both the stream apps and the cache server.
For this reason, the use of custom payload types is generally discouraged.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1252">dataflow:&gt;stream create --name stocks --definition "http --port=9090 | gemfire --json=true --regionName=Stocks --keyExpression=payload.getField('symbol')" --deploy
Created and deployed new stream 'stocks'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1254"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the Geode locator isn’t running on default port on <fo:inline font-family="monospace">localhost</fo:inline>, add the options <fo:inline font-family="monospace">--connect-type=locator --host-addresses=&lt;host&gt;:&lt;port&gt;</fo:inline>. If there are multiple
locators, you can provide a comma separated list of locator addresses. This is not necessary for the sample but is typical for production environments to enable fail-over.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1263"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1266">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1268"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Post sample data pointing to the <fo:inline font-family="monospace">http</fo:inline> endpoint: <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://localhost:9090)"><fo:inline text-decoration="underline" color="#204060">localhost:9090</fo:inline></fo:basic-link></fo:inline> (<fo:inline font-family="monospace">9090</fo:inline> is the <fo:inline font-family="monospace">port</fo:inline> we specified for the <fo:inline font-family="monospace">http</fo:inline> source)</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1287">dataflow:&gt;http post --target http://localhost:9090 --contentType application/json --data '{"symbol":"VMW","price":117.06}'
&gt; POST (application/json) http://localhost:9090 {"symbol":"VMW","price":117.06}
&gt; 202 ACCEPTED</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1289"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, connect to the locator if not already connected, and verify the cache entry was created.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1295">gfsh&gt;get --key='VMW' --region=/Stocks
Result      : true
Key Class   : java.lang.String
Key         : VMW
Value Class : org.apache.geode.pdx.internal.PdxInstanceImpl

symbol | price
------ | ------
VMW    | 117.06</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1297"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="gemfire-http-cf"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using the Cloud Foundry Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_6"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1306"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1307"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Cloud Foundry instance</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1310"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Cloud Data Flow Cloud Foundry Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Cloud Foundry Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow-server-cloudfoundry)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-cloudfoundry/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1323"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Although you can run the Data Flow Cloud Foundry Server locally and configure it to deploy to any Cloud Foundry instance, we will
deploy the server to Cloud Foundry as recommended.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e1326"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1327"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify that CF instance is reachable (Your endpoint urls will be different from what is shown here).</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1330">$ cf api
API endpoint: https://api.system.io (API version: ...)

$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

No apps found</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1332"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Follow the instructions to deploy the <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow Cloud Foundry server</fo:inline></fo:basic-link>. Don’t worry about creating a Redis service. We won’t need it. If you are familiar with Cloud Foundry
application manifests, we recommend creating a manifest for the the Data Flow server as shown <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#sample-manifest-template)"><fo:inline text-decoration="underline" color="#204060">here</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1341"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/warning.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Warning</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As of this writing, there is a typo on the <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> entry in the sample manifest. <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> must be followed by <fo:inline font-family="monospace">:</fo:inline> and The JSON string must be
wrapped in single quotes. Alternatively, you can replace that line with <fo:inline font-family="monospace">MAVEN_REMOTE_REPOSITORIES_REPO1_URL: <fo:basic-link external-destination="url(https://repo.spring.io/libs-snapshot)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-snapshot</fo:inline></fo:basic-link></fo:inline>.  If your Cloud Foundry installation is behind a firewall, you may need to install the stream apps used in this sample in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/1.3.0.M2/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link> the server to access that repository.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1361"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Once you have successfully executed <fo:inline font-family="monospace">cf push</fo:inline>, verify the dataflow server is running</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1367">$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

name                 requested state   instances   memory   disk   urls
dataflow-server      started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1369"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that the <fo:inline font-family="monospace">dataflow-server</fo:inline> application is started and ready for interaction via the url endpoint</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1375"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect the <fo:inline font-family="monospace">shell</fo:inline> with <fo:inline font-family="monospace">server</fo:inline> running on Cloud Foundry, e.g., <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://dataflow-server.app.io)"><fo:inline text-decoration="underline" color="#204060">dataflow-server.app.io</fo:inline></fo:basic-link></fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1387">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar

  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
server-unknown:&gt;</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1389">server-unknown:&gt;dataflow config server http://dataflow-server.app.io
Successfully targeted http://dataflow-server.app.io
dataflow:&gt;</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1391"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1392"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of a <fo:inline font-family="monospace">rabbit</fo:inline> service in Cloud Foundry</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1398"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of the <fo:basic-link external-destination="url(https://docs.pivotal.io/p-cloud-cache/1-0/developer.html)"><fo:inline text-decoration="underline" color="#204060">Pivotal Cloud Cache for PCF</fo:inline></fo:basic-link> (PCC) service <fo:inline font-family="monospace">cloudcache</fo:inline> in Cloud Foundry.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1407"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1412"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1452">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1454"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Get the PCC connection information</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1457">$ cf service-key cloudcache my-service-key
Getting key my-service-key for service instance cloudcache as &lt;user&gt;...

{
 "locators": [
  "10.0.16.9[55221]",
  "10.0.16.11[55221]",
  "10.0.16.10[55221]"
 ],
 "urls": {
  "gfsh": "http://...",
  "pulse": "http://.../pulse"
 },
 "users": [
  {
   "password": &lt;password&gt;,
   "username": "cluster_operator"
  },
  {
   "password": &lt;password&gt;,
   "username": "developer"
  }
 ]
}</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1459"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, connect to the PCC instance as <fo:inline font-family="monospace">cluster_operator</fo:inline> using the service key values and create the Stocks region.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1468">gfsh&gt;connect --use-http --url=&lt;gfsh-url&gt; --user=cluster_operator --password=&lt;cluster_operator_password&gt;
gfsh&gt;create region --name Stocks --type=REPLICATE</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1470"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream, connecting to the PCC instance as developer</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This example creates an http endpoint to which we will post stock prices as a JSON document containing <fo:inline font-family="monospace">symbol</fo:inline> and <fo:inline font-family="monospace">price</fo:inline> fields.
The property <fo:inline font-family="monospace">--json=true</fo:inline> to enable Geode’s JSON support and configures the sink to convert JSON String payloads to <fo:basic-link external-destination="url(https://geode.apache.org/releases/latest/javadoc/org/apache/geode/pdx/PdxInstance.html)"><fo:inline text-decoration="underline" color="#204060">PdxInstance</fo:inline></fo:basic-link>, the recommended way
to store JSON documents in Geode. The <fo:inline font-family="monospace">keyExpression</fo:inline> property is a SpEL expression used to extract the <fo:inline font-family="monospace">symbol</fo:inline> value the PdxInstance to use as an entry key.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1493"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">PDX serialization is very efficient and supports OQL queries without requiring a custom domain class.
Use of custom domain types requires these classes to be in the class path of both the stream apps and the cache server.
For this reason, the use of custom payload types is generally discouraged.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1496">dataflow:&gt;stream create --name stocks --definition "http --security.basic.enabled=false | gemfire --username=developer --password=&lt;developer-password&gt; --connect-type=locator --host-addresses=10.0.16.9:55221 --regionName=Stocks --keyExpression=payload.getField('symbol')" --deploy</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1498"><fo:list-item-label end-indent="label-end()"><fo:block>10.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1501">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1503"><fo:list-item-label end-indent="label-end()"><fo:block>11.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Post sample data pointing to the <fo:inline font-family="monospace">http</fo:inline> endpoint</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Get the url of the http source using <fo:inline font-family="monospace">cf apps</fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1513">dataflow:&gt;http post --target http://&lt;http source url&gt; --contentType application/json --data '{"symbol":"VMW","price":117.06}'
&gt; POST (application/json) http://... {"symbol":"VMW","price":117.06}
&gt; 202 ACCEPTED</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1515"><fo:list-item-label end-indent="label-end()"><fo:block>12.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, connect to the PCC instance as <fo:inline font-family="monospace">cluster_operator</fo:inline> using the service key values.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1524">gfsh&gt;connect --use-http --url=&lt;gfsh-url&gt; --user=cluster_operator --password=&lt;cluster_operator_password&gt;
gfsh&gt;get --key='VMW' --region=/Stocks
Result      : true
Key Class   : java.lang.String
Key         : VMW
Value Class : org.apache.geode.pdx.internal.PdxInstanceImpl

symbol | price
------ | ------
VMW    | 117.06</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1526"><fo:list-item-label end-indent="label-end()"><fo:block>13.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="_summary_3"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1534"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1535"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> and <fo:inline font-family="monospace">Cloud Foundry</fo:inline> servers</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1544"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">shell</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1549"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to create streaming data pipeline to connect and write to <fo:inline font-family="monospace">gemfire</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-gemfire-log-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Gemfire to Log Demo</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Gemfire to Log Demo</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this demonstration, you will learn how to build a data pipeline using <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow</fo:inline></fo:basic-link> to consume data from a <fo:inline font-family="monospace">gemfire</fo:inline> endpoint and write to a log using the <fo:inline font-family="monospace">log</fo:inline> sink.
The <fo:inline font-family="monospace">gemfire</fo:inline> source creates a <fo:basic-link external-destination="url(https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/CacheListener.html)"><fo:inline text-decoration="underline" color="#204060">CacheListener</fo:inline></fo:basic-link> to monitor events for a region and publish a message whenever an entry is changed.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We will take you through the steps to configure and run Spring Cloud Data Flow server in either a <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started/)"><fo:inline text-decoration="underline" color="#204060">local</fo:inline></fo:basic-link> or <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#getting-started)"><fo:inline text-decoration="underline" color="#204060">Cloud Foundry</fo:inline></fo:basic-link> environment.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1582"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For legacy reasons the <fo:inline font-family="monospace">gemfire</fo:inline> Spring Cloud Stream Apps are named after <fo:inline font-family="monospace">Pivotal GemFire</fo:inline>. The code base for the commercial product has since been open sourced as <fo:inline font-family="monospace">Apache Geode</fo:inline>. These samples should work with compatible versions of Pivotal GemFire or Apache Geode. Herein we will refer to the installed IMDG simply as <fo:inline font-family="monospace">Geode</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_prerequisites_4"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1600"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1601"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1612"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1622">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1624"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1630"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1631"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Geode installation with a locator and cache server running
Unresolved directive in streaming/gemfire/gemfire-log/overview.adoc - include::geode-setup.adoc[]</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="gemfire-log-local"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using the Local Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_7"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1640"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1641"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Local Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-local/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Local Data Flow server Open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1656">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1658"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1659"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running instance of <fo:basic-link external-destination="url(https://www.rabbitmq.com)"><fo:inline text-decoration="underline" color="#204060">Rabbit MQ</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-after="1em"><fo:leader leader-pattern="rule" rule-thickness="0.5pt" rule-style="solid" leader-length.minimum="100%"/></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e1666"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1667"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Use gfsh to start a locator and server</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1670">gfsh&gt;start locator --name=locator1
gfsh&gt;start server --name=server1</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1672"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create a region called <fo:inline font-family="monospace">Test</fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1677">gfsh&gt;create region --name Test --type=REPLICATE</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_use_the_shell_to_create_the_sample_stream_2"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Use the Shell to create the sample stream.</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e1682"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1683"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1688"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1728">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1730"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This example creates an gemfire source to which will publish events on a region</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1735">dataflow:&gt;stream create --name events --definition " gemfire --regionName=Test | log" --deploy
Created and deployed new stream 'events'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1737"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the Geode locator isn’t running on default port on <fo:inline font-family="monospace">localhost</fo:inline>, add the options <fo:inline font-family="monospace">--connect-type=locator --host-addresses=&lt;host&gt;:&lt;port&gt;</fo:inline>. If there are multiple
locators, you can provide a comma separated list of locator addresses. This is not necessary for the sample but is typical for production environments to enable fail-over.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1746"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1749">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1751"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Monitor stdout for the log sink. When you deploy the stream, you will see log messages in the Data Flow server console like this</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1754">2017-10-28 17:28:23.275  INFO 15603 --- [nio-9393-exec-2] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId events.log instance 0.
   Logs will be in /var/folders/hd/5yqz2v2d3sxd3n879f4sg4gr0000gn/T/spring-cloud-dataflow-4093992067314402881/events-1509226103269/events.log
2017-10-28 17:28:23.277  INFO 15603 --- [nio-9393-exec-2] o.s.c.d.s.c.StreamDeploymentController   : Downloading resource URI [maven://org.springframework.cloud.stream.app:gemfire-source-rabbit:1.2.0.RELEASE]
2017-10-28 17:28:23.311  INFO 15603 --- [nio-9393-exec-2] o.s.c.d.s.c.StreamDeploymentController   : Deploying application named [gemfire] as part of stream named [events] with resource URI [maven://org.springframework.cloud.stream.app:gemfire-source-rabbit:1.2.0.RELEASE]
2017-10-28 17:28:23.318  INFO 15603 --- [nio-9393-exec-2] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId events.gemfire instance 0.
   Logs will be in /var/folders/hd/5yqz2v2d3sxd3n879f4sg4gr0000gn/T/spring-cloud-dataflow-4093992067314402881/events-1509226103311/events.gemfire</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy the location of the <fo:inline font-family="monospace">log</fo:inline> sink logs. This is a directory that ends in <fo:inline font-family="monospace">events.log</fo:inline>. The log files will be in <fo:inline font-family="monospace">stdout_0.log</fo:inline> under this directory. You can monitor the output of the log sink using <fo:inline font-family="monospace">tail</fo:inline>, or something similar:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1770">$tail -f /var/folders/hd/5yqz2v2d3sxd3n879f4sg4gr0000gn/T/spring-cloud-dataflow-4093992067314402881/events-1509226103269/events.log/stdout_0.log</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1772"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, create and update some cache entries</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1778">gfsh&gt;put --region /Test --key 1  --value "value 1"
gfsh&gt;put --region /Test --key 2  --value "value 2"
gfsh&gt;put --region /Test --key 3  --value "value 3"
gfsh&gt;put --region /Test --key 1  --value "new value 1"</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1780"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Observe the log output
You should see messages like:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1783">2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log sink                               : value 1"
2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log sink                               : value 2"
2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log sink                               : value 3"
2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log sink                               : new value 1"</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, the message payload contains the updated value. Depending on your application, you may need additional information. The data comes from <fo:basic-link external-destination="url(https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/EntryEvent.html)"><fo:inline text-decoration="underline" color="#204060">EntryEvent</fo:inline></fo:basic-link>. You
can access any fields using the source’s <fo:inline font-family="monospace">cache-event-expression</fo:inline> property. This takes a SpEL expression bound to the EntryEvent. Try something like <fo:inline font-family="monospace">--cache-event-expression='{key:'+key+',new_value:'+newValue+'}'</fo:inline> (HINT: You will need to destroy the stream and recreate it to
add this property, an exercise left to the reader). Now you should see log messages like:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1796">2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log-sink                                 : {key:1,new_value:value 1}
2017-10-28 17:41:24.466  INFO 18986 --- [emfire.events-1] log-sink                                 : {key:2,new_value:value 2}</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1798"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="gemfire-log-cf"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using the Cloud Foundry Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_8"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1807"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1808"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Cloud Foundry instance</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1811"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The Spring Cloud Data Flow Cloud Foundry Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Cloud Foundry Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow-server-cloudfoundry)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-cloudfoundry/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1824"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Although you can run the Data Flow Cloud Foundry Server locally and configure it to deploy to any Cloud Foundry instance, we will
deploy the server to Cloud Foundry as recommended.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e1827"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1828"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify that CF instance is reachable (Your endpoint urls will be different from what is shown here).</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1831">$ cf api
API endpoint: https://api.system.io (API version: ...)

$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

No apps found</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1833"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Follow the instructions to deploy the <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow Cloud Foundry server</fo:inline></fo:basic-link>. Don’t worry about creating a Redis service. We won’t need it. If you are familiar with Cloud Foundry
application manifests, we recommend creating a manifest for the the Data Flow server as shown <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#sample-manifest-template)"><fo:inline text-decoration="underline" color="#204060">here</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1842"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/warning.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Warning</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As of this writing, there is a typo on the <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> entry in the sample manifest. <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> must be followed by <fo:inline font-family="monospace">:</fo:inline> and The JSON string must be
wrapped in single quotes. Alternatively, you can replace that line with <fo:inline font-family="monospace">MAVEN_REMOTE_REPOSITORIES_REPO1_URL: <fo:basic-link external-destination="url(https://repo.spring.io/libs-snapshot)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-snapshot</fo:inline></fo:basic-link></fo:inline>.  If your Cloud Foundry installation is behind a firewall, you may need to install the stream apps used in this sample in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/1.3.0.M2/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link> the server to access that repository.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1862"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Once you have successfully executed <fo:inline font-family="monospace">cf push</fo:inline>, verify the dataflow server is running</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1868">$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

name                 requested state   instances   memory   disk   urls
dataflow-server      started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1870"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that the <fo:inline font-family="monospace">dataflow-server</fo:inline> application is started and ready for interaction via the url endpoint</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1876"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect the <fo:inline font-family="monospace">shell</fo:inline> with <fo:inline font-family="monospace">server</fo:inline> running on Cloud Foundry, e.g., <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://dataflow-server.app.io)"><fo:inline text-decoration="underline" color="#204060">dataflow-server.app.io</fo:inline></fo:basic-link></fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1888">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar

  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
server-unknown:&gt;</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1890">server-unknown:&gt;dataflow config server http://dataflow-server.app.io
Successfully targeted http://dataflow-server.app.io
dataflow:&gt;</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1892"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1893"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of a <fo:inline font-family="monospace">rabbit</fo:inline> service in Cloud Foundry</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1899"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of the <fo:basic-link external-destination="url(https://docs.pivotal.io/p-cloud-cache/1-0/developer.html)"><fo:inline text-decoration="underline" color="#204060">Pivotal Cloud Cache for PCF</fo:inline></fo:basic-link> (PCC) service <fo:inline font-family="monospace">cloudcache</fo:inline> in Cloud Foundry.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1908"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e1913"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1953">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1955"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Get the PCC connection information</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1958">$ cf service-key cloudcache my-service-key
Getting key my-service-key for service instance cloudcache as &lt;user&gt;...

{
 "locators": [
  "10.0.16.9[55221]",
  "10.0.16.11[55221]",
  "10.0.16.10[55221]"
 ],
 "urls": {
  "gfsh": "http://...",
  "pulse": "http://.../pulse"
 },
 "users": [
  {
   "password": &lt;password&gt;,
   "username": "cluster_operator"
  },
  {
   "password": &lt;password&gt;,
   "username": "developer"
  }
 ]
}</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1960"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, connect to the PCC instance as <fo:inline font-family="monospace">cluster_operator</fo:inline> using the service key values and create the Test region.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1969">gfsh&gt;connect --use-http --url=&lt;gfsh-url&gt; --user=cluster_operator --password=&lt;cluster_operator_password&gt;
gfsh&gt;create region --name Test --type=REPLICATE</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1971"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream, connecting to the PCC instance as developer. This example creates an gemfire source to which will publish events on a region</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1974">dataflow stream create --name events --definition " gemfire --username=developer --password=&lt;developer-password&gt; --connect-type=locator --host-addresses=10.0.16.9:55221 --regionName=Test | log" --deploy</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1976"><fo:list-item-label end-indent="label-end()"><fo:block>10.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1979">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1981"><fo:list-item-label end-indent="label-end()"><fo:block>11.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Monitor stdout for the log sink</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1984">cf logs &lt;log-sink-app-name&gt;</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1986"><fo:list-item-label end-indent="label-end()"><fo:block>12.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, create and update some cache entries</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1992">gfsh&gt;connect --use-http --url=&lt;gfsh-url&gt; --user=cluster_operator --password=&lt;cluster_operator_password&gt;
gfsh&gt;put --region /Test --key 1  --value "value 1"
gfsh&gt;put --region /Test --key 2  --value "value 2"
gfsh&gt;put --region /Test --key 3  --value "value 3"
gfsh&gt;put --region /Test --key 1  --value "new value 1"</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1994"><fo:list-item-label end-indent="label-end()"><fo:block>13.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Observe the log output</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should see messages like:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e1999">2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log sink                               : value 1"
2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log sink                               : value 2"
2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log sink                               : value 3"
2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log sink                               : new value 1"</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, the message payload contains the updated value. Depending on your application, you may need additional information. The data comes from <fo:basic-link external-destination="url(https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/EntryEvent.html)"><fo:inline text-decoration="underline" color="#204060">EntryEvent</fo:inline></fo:basic-link>. You
can access any fields using the source’s <fo:inline font-family="monospace">cache-event-expression</fo:inline> property. This takes a SpEL expression bound to the EntryEvent. Try something like <fo:inline font-family="monospace">--cache-event-expression='{key:'+key+',new_value:'+newValue+'}'</fo:inline> (HINT: You will need to destroy the stream and recreate it to
add this property, an exercise left to the reader). Now you should see log messages like:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2012">2017-10-28 17:28:52.893  INFO 18986 --- [emfire.events-1] log-sink                                 : {key:1,new_value:value 1}
2017-10-28 17:41:24.466  INFO 18986 --- [emfire.events-1] log-sink                                 : {key:2,new_value:value 2}</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2014"><fo:list-item-label end-indent="label-end()"><fo:block>14.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="_summary_4"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2022"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2023"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> and <fo:inline font-family="monospace">Cloud Foundry</fo:inline> servers</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2032"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">shell</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2037"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to create streaming data pipeline to connect and publish events from <fo:inline font-family="monospace">gemfire</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-gemfire-cq-log-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Gemfire CQ to Log Demo</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Gemfire CQ to Log Demo</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this demonstration, you will learn how to build a data pipeline using <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow</fo:inline></fo:basic-link> to consume data from a <fo:inline font-family="monospace">gemfire-cq</fo:inline> (Continuous Query) endpoint and write to a log using the <fo:inline font-family="monospace">log</fo:inline> sink.
The <fo:inline font-family="monospace">gemfire-cq</fo:inline> source creates a Continuous Query to monitor events for a region that match the query’s result set and publish a message whenever such an event is emitted. In this example, we simulate monitoring orders to trigger a process whenever
the quantity ordered is above a defined limit.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We will take you through the steps to configure and run Spring Cloud Data Flow server in either a <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started/)"><fo:inline text-decoration="underline" color="#204060">local</fo:inline></fo:basic-link> or <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#getting-started)"><fo:inline text-decoration="underline" color="#204060">Cloud Foundry</fo:inline></fo:basic-link> environment.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2067"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For legacy reasons the <fo:inline font-family="monospace">gemfire</fo:inline> Spring Cloud Stream Apps are named after <fo:inline font-family="monospace">Pivotal GemFire</fo:inline>. The code base for the commercial product has since been open sourced as <fo:inline font-family="monospace">Apache Geode</fo:inline>. These samples should work with compatible versions of Pivotal GemFire or Apache Geode. Herein we will refer to the installed IMDG simply as <fo:inline font-family="monospace">Geode</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_prerequisites_5"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2085"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2086"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2097"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2107">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2109"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2115"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2116"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Geode installation with a locator and cache server running
Unresolved directive in streaming/gemfire/gemfire-cq-log/overview.adoc - include::geode-setup.adoc[]</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="gemfire-cq-log-local"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using the Local Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_9"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2125"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2126"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Local Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-local/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Local Data Flow server Open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2141">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2143"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2144"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running instance of <fo:basic-link external-destination="url(https://www.rabbitmq.com)"><fo:inline text-decoration="underline" color="#204060">Rabbit MQ</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:block space-after="1em"><fo:leader leader-pattern="rule" rule-thickness="0.5pt" rule-style="solid" leader-length.minimum="100%"/></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2151"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2152"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Use gfsh to start a locator and server</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2155">gfsh&gt;start locator --name=locator1
gfsh&gt;start server --name=server1</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2157"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create a region called <fo:inline font-family="monospace">Orders</fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2162">gfsh&gt;create region --name Orders --type=REPLICATE</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">===== Use the Shell to create the sample stream.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2166"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2171"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2211">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2213"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This example creates an gemfire-cq source to which will publish events matching a query criteria on a region. In this case we will monitor the <fo:inline font-family="monospace">Orders</fo:inline> region. For simplicity, we will avoid creating a data structure for the order.
Each cache entry contains an integer value representing the quantity of the ordered item. This stream will fire a message whenever the value&gt;999. By default, the source emits only the value. Here we will override that using the
<fo:inline font-family="monospace">cq-event-expression</fo:inline> property.  This accepts a SpEL expression bound to a <fo:basic-link external-destination="url(https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/query/CqEvent.html)"><fo:inline text-decoration="underline" color="#204060">CQEvent</fo:inline></fo:basic-link>. To reference the entire CQEvent instace, we use <fo:inline font-family="monospace">#this</fo:inline>.
In order to display the contents in the log, we will invoke <fo:inline font-family="monospace">toString()</fo:inline> on the instance.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2233">dataflow:&gt;stream create --name orders --definition " gemfire-cq --query='SELECT * from /Orders o where o &gt; 999' --cq-event-expression=#this.toString() | log" --deploy
Created and deployed new stream 'events'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2235"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the Geode locator isn’t running on default port on <fo:inline font-family="monospace">localhost</fo:inline>, add the options <fo:inline font-family="monospace">--connect-type=locator --host-addresses=&lt;host&gt;:&lt;port&gt;</fo:inline>. If there are multiple
locators, you can provide a comma separated list of locator addresses. This is not necessary for the sample but is typical for production environments to enable fail-over.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2244"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2247">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2249"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Monitor stdout for the log sink. When you deploy the stream, you will see log messages in the Data Flow server console like this</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2252">2017-10-30 09:39:36.283  INFO 8167 --- [nio-9393-exec-5] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId orders.log instance 0.
   Logs will be in /var/folders/hd/5yqz2v2d3sxd3n879f4sg4gr0000gn/T/spring-cloud-dataflow-5375107584795488581/orders-1509370775940/orders.log</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Copy the location of the <fo:inline font-family="monospace">log</fo:inline> sink logs. This is a directory that ends in <fo:inline font-family="monospace">orders.log</fo:inline>. The log files will be in <fo:inline font-family="monospace">stdout_0.log</fo:inline> under this directory. You can monitor the output of the log sink using <fo:inline font-family="monospace">tail</fo:inline>, or something similar:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2268">$tail -f /var/folders/hd/5yqz2v2d3sxd3n879f4sg4gr0000gn/T/spring-cloud-dataflow-5375107584795488581/orders-1509370775940/orders.log/stdout_0.log</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2270"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, create and update some cache entries</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2276">gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 01234 --value 1000
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 11234 --value 1005
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 21234 --value 100
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 31234 --value 999
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 21234 --value 1000</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2278"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Observe the log output
You should see messages like:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2281">2017-10-30 09:53:02.231  INFO 8563 --- [ire-cq.orders-1] log-sink                                 : CqEvent [CqName=GfCq1; base operation=CREATE; cq operation=CREATE; key=01234; value=1000]
2017-10-30 09:53:19.732  INFO 8563 --- [ire-cq.orders-1] log-sink                                 : CqEvent [CqName=GfCq1; base operation=CREATE; cq operation=CREATE; key=11234; value=1005]
2017-10-30 09:53:53.242  INFO 8563 --- [ire-cq.orders-1] log-sink                                 : CqEvent [CqName=GfCq1; base operation=UPDATE; cq operation=CREATE; key=21234; value=1000]</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2283"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Another interesting demonstration combines <fo:inline font-family="monospace">gemfire-cq</fo:inline> with the <fo:basic-link external-destination="url(:../http-gemfire/README.adoc)"><fo:inline text-decoration="underline" color="#204060">http-gemfire</fo:inline></fo:basic-link> example.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2292">dataflow:&gt; stream create --name stocks --definition "http --port=9090 | gemfire-json-server --regionName=Stocks --keyExpression=payload.getField('symbol')" --deploy
dataflow:&gt; stream create --name stock_watch --definition "gemfire-cq --query='Select * from /Stocks where symbol=''VMW''' | log" --deploy</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2294"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2295"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="gemfire-cq-log-cf"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using the Cloud Foundry Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_additional_prerequisites_10"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="9pt" space-before.optimum="0.3em" space-before.minimum="0.3em" space-before.maximum="0.3em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Additional Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2304"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2305"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Cloud Foundry instance</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2308"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The Spring Cloud Data Flow Cloud Foundry Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Cloud Foundry Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow-server-cloudfoundry)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-cloudfoundry/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2321"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Although you can run the Data Flow Cloud Foundry Server locally and configure it to deploy to any Cloud Foundry instance, we will
deploy the server to Cloud Foundry as recommended.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2324"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2325"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify that CF instance is reachable (Your endpoint urls will be different from what is shown here).</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2328">$ cf api
API endpoint: https://api.system.io (API version: ...)

$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

No apps found</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2330"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Follow the instructions to deploy the <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow Cloud Foundry server</fo:inline></fo:basic-link>. Don’t worry about creating a Redis service. We won’t need it. If you are familiar with Cloud Foundry
application manifests, we recommend creating a manifest for the the Data Flow server as shown <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#sample-manifest-template)"><fo:inline text-decoration="underline" color="#204060">here</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2339"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/warning.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Warning</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As of this writing, there is a typo on the <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> entry in the sample manifest. <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> must be followed by <fo:inline font-family="monospace">:</fo:inline> and The JSON string must be
wrapped in single quotes. Alternatively, you can replace that line with <fo:inline font-family="monospace">MAVEN_REMOTE_REPOSITORIES_REPO1_URL: <fo:basic-link external-destination="url(https://repo.spring.io/libs-snapshot)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-snapshot</fo:inline></fo:basic-link></fo:inline>.  If your Cloud Foundry installation is behind a firewall, you may need to install the stream apps used in this sample in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/1.3.0.M2/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link> the server to access that repository.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2359"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Once you have successfully executed <fo:inline font-family="monospace">cf push</fo:inline>, verify the dataflow server is running</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2365">$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

name                 requested state   instances   memory   disk   urls
dataflow-server      started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2367"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that the <fo:inline font-family="monospace">dataflow-server</fo:inline> application is started and ready for interaction via the url endpoint</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2373"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect the <fo:inline font-family="monospace">shell</fo:inline> with <fo:inline font-family="monospace">server</fo:inline> running on Cloud Foundry, e.g., <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://dataflow-server.app.io)"><fo:inline text-decoration="underline" color="#204060">dataflow-server.app.io</fo:inline></fo:basic-link></fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2385">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar

  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
server-unknown:&gt;</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2387">server-unknown:&gt;dataflow config server http://dataflow-server.app.io
Successfully targeted http://dataflow-server.app.io
dataflow:&gt;</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2389"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2390"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of a <fo:inline font-family="monospace">rabbit</fo:inline> service in Cloud Foundry</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2396"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of the <fo:basic-link external-destination="url(https://docs.pivotal.io/p-cloud-cache/1-0/developer.html)"><fo:inline text-decoration="underline" color="#204060">Pivotal Cloud Cache for PCF</fo:inline></fo:basic-link> (PCC) service <fo:inline font-family="monospace">cloudcache</fo:inline> in Cloud Foundry.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2405"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2410"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2450">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2452"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Get the PCC connection information</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2455">$ cf service-key cloudcache my-service-key
Getting key my-service-key for service instance cloudcache as &lt;user&gt;...

{
 "locators": [
  "10.0.16.9[55221]",
  "10.0.16.11[55221]",
  "10.0.16.10[55221]"
 ],
 "urls": {
  "gfsh": "http://...",
  "pulse": "http://.../pulse"
 },
 "users": [
  {
   "password": &lt;password&gt;,
   "username": "cluster_operator"
  },
  {
   "password": &lt;password&gt;,
   "username": "developer"
  }
 ]
}</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2457"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, connect to the PCC instance as <fo:inline font-family="monospace">cluster_operator</fo:inline> using the service key values and create the Test region.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2466">gfsh&gt;connect --use-http --url=&lt;gfsh-url&gt; --user=cluster_operator --password=&lt;cluster_operator_password&gt;
gfsh&gt;create region --name Orders --type=REPLICATE</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2468"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream using the Data Flow Shell</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This example creates an gemfire-cq source to which will publish events matching a query criteria on a region. In this case we will monitor the <fo:inline font-family="monospace">Orders</fo:inline> region. For simplicity, we will avoid creating a data structure for the order.
Each cache entry contains an integer value representing the quantity of the ordered item. This stream will fire a message whenever the value&gt;999. By default, the source emits only the value. Here we will override that using the
<fo:inline font-family="monospace">cq-event-expression</fo:inline> property.  This accepts a SpEL expression bound to a <fo:basic-link external-destination="url(https://geode.apache.org/releases/latest/javadoc/org/apache/geode/cache/query/CqEvent.html)"><fo:inline text-decoration="underline" color="#204060">CQEvent</fo:inline></fo:basic-link>. To reference the entire CQEvent instance, we use <fo:inline font-family="monospace">#this</fo:inline>.
In order to display the contents in the log, we will invoke <fo:inline font-family="monospace">toString()</fo:inline> on the instance.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2488">dataflow:&gt;stream create --name orders --definition " gemfire-cq  --username=developer --password=&lt;developer-password&gt; --connect-type=locator --host-addresses=10.0.16.9:55221 --query='SELECT * from /Orders o where o &gt; 999' --cq-event-expression=#this.toString()  | log" --deploy
Created and deployed new stream 'events'</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2490"><fo:list-item-label end-indent="label-end()"><fo:block>10.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2493">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2495"><fo:list-item-label end-indent="label-end()"><fo:block>11.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Monitor stdout for the log sink</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2498">cf logs &lt;log-sink-app-name&gt;</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2500"><fo:list-item-label end-indent="label-end()"><fo:block>12.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Using <fo:inline font-family="monospace">gfsh</fo:inline>, create and update some cache entries</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2506">gfsh&gt;connect --use-http --url=&lt;gfsh-url&gt; --user=cluster_operator --password=&lt;cluster_operator_password&gt;
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 01234 --value 1000
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 11234 --value 1005
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 21234 --value 100
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 31234 --value 999
gfsh&gt;put --region Orders  --value-class java.lang.Integer --key 21234 --value 1000</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2508"><fo:list-item-label end-indent="label-end()"><fo:block>13.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Observe the log output
You should see messages like:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2511">2017-10-30 09:53:02.231  INFO 8563 --- [ire-cq.orders-1] log-sink                                 : CqEvent [CqName=GfCq1; base operation=CREATE; cq operation=CREATE; key=01234; value=1000]
2017-10-30 09:53:19.732  INFO 8563 --- [ire-cq.orders-1] log-sink                                 : CqEvent [CqName=GfCq1; base operation=CREATE; cq operation=CREATE; key=11234; value=1005]
2017-10-30 09:53:53.242  INFO 8563 --- [ire-cq.orders-1] log-sink                                 : CqEvent [CqName=GfCq1; base operation=UPDATE; cq operation=CREATE; key=21234; value=1000]</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2513"><fo:list-item-label end-indent="label-end()"><fo:block>14.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Another interesting demonstration combines <fo:inline font-family="monospace">gemfire-cq</fo:inline> with the <fo:basic-link external-destination="url(../http-gemfire/README.adoc)"><fo:inline text-decoration="underline" color="#204060">http-gemfire</fo:inline></fo:basic-link> example.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2522">dataflow:&gt; stream create --name stocks --definition "http --port=9090 | gemfire-json-server --regionName=Stocks --keyExpression=payload.getField('symbol')" --deploy
dataflow:&gt; stream create --name stock_watch --definition "gemfire-cq --query='Select * from /Stocks where symbol=''VMW''' | log" --deploy</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2524"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2525"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You’re done!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="_summary_5"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2533"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2534"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> and <fo:inline font-family="monospace">Cloud Foundry</fo:inline> servers</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2543"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">shell</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2548"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to create streaming data pipeline to connect and publish CQ events from <fo:inline font-family="monospace">gemfire</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-custom-apps-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Custom Stream Application Samples</fo:marker><fo:block font-size="15pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">2.4 Custom Stream Application Samples</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-custom-application-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Custom Spring Cloud Stream Processor</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Custom Spring Cloud Stream Processor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_prerequisites_6"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2562"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2563"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2574"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2584">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2586"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2592"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2593"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running local Data Flow Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Local Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-local/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Local Data Flow server Open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2608">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2610"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2611"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Java IDE</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2614"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://maven.apache.org/)"><fo:inline text-decoration="underline" color="#204060">Maven</fo:inline></fo:basic-link> Installed</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2619"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running instance of <fo:basic-link external-destination="url(https://www.rabbitmq.com/)"><fo:inline text-decoration="underline" color="#204060">Rabbit MQ</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_create_the_custom_stream_app"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Create the custom stream app</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We will create a custom <fo:basic-link external-destination="url(https://cloud.spring.io/spring-cloud-stream/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Stream</fo:inline></fo:basic-link> application and run it on Spring Cloud Data Flow.
We’ll go through the steps to make a simple processor that converts temperature from Fahrenheit to Celsius.
We will be running the demo locally, but all the steps will work in a Cloud Foundry environment as well.</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2632"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2633"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create a new spring cloud stream project</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2636"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2637"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create a <fo:basic-link external-destination="url(http://start.spring.io/)"><fo:inline text-decoration="underline" color="#204060">Spring initializer</fo:inline></fo:basic-link> project</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2643"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Set the group to <fo:inline font-family="monospace">demo.celsius.converter</fo:inline> and the artifact name as <fo:inline font-family="monospace">celsius-converter-processor</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2651"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Choose a message transport binding as a dependency for the custom app
There are options for choosing <fo:inline font-family="monospace">Rabbit MQ</fo:inline> or <fo:inline font-family="monospace">Kafka</fo:inline> as the message transport.
For this demo, we will use <fo:inline font-family="monospace">rabbit</fo:inline>. Type <fo:inline font-style="italic">rabbit</fo:inline> in the search bar under <fo:inline font-style="italic">Search for dependencies</fo:inline> and select <fo:inline font-family="monospace">Stream Rabbit</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2672"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Hit the generate project button and open the new project in an IDE of your choice</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2675"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Develop the app</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We can now create our custom app. Our Spring Cloud Stream application is a Spring Boot application that runs as an executable jar. The application will include two Java classes:</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2680"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2681"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">CelsiusConverterProcessorAplication.java</fo:inline> - the main Spring Boot application class, generated by Spring initializr</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2686"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">CelsiusConverterProcessorConfiguration.java</fo:inline> - the Spring Cloud Stream code that we will write</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We are creating a transformer that takes a Fahrenheit input and converts it to Celsius.
Following the same naming convention as the application file, create a new Java class in the same package called <fo:inline font-family="monospace">CelsiusConverterProcessorConfiguration.java</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-weight="bold" keep-with-next.within-line="always" padding-end="1em">CelsiusConverterProcessorConfiguration.java. </fo:inline>
<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2701">@EnableBinding(Processor.class)
public class CelsiusConverterProcessorConfiguration {

    @Transformer(inputChannel = Processor.INPUT, outputChannel = Processor.OUTPUT)
    public int convertToCelsius(String payload) {
        int fahrenheitTemperature = Integer.parseInt(payload);
        return (farenheitTemperature-32)*5/9;
    }
}</fo:block>
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here we introduced two important Spring annotations.
First we annotated the class with <fo:inline font-family="monospace">@EnableBinding(Processor.class)</fo:inline>.
Second we created a method and annotated it with <fo:inline font-family="monospace">@Transformer(inputChannel = Processor.INPUT, outputChannel = Processor.OUTPUT)</fo:inline>.
By adding these two annotations we have configured this stream app as a <fo:inline font-family="monospace">Processor</fo:inline> (as opposed to a <fo:inline font-family="monospace">Source</fo:inline> or a <fo:inline font-family="monospace">Sink</fo:inline>).
This means that the application receives input from an upstream application via the <fo:inline font-family="monospace">Processor.INPUT</fo:inline> channel and sends its output to a downstream application via the <fo:inline font-family="monospace">Processor.OUTPUT</fo:inline> channel.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">convertToCelsius</fo:inline> method takes a <fo:inline font-family="monospace">String</fo:inline> as input for Fahrenheit and then returns the converted Celsius as an integer.
This method is very simple, but that is also the beauty of this programming style.
We can add as much logic as we want to this method to enrich this processor.
As long as we annotate it properly and return valid output, it works as a Spring Cloud Stream Processor. Also note that it is straightforward to unit test this code.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2735"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Build the Spring Boot application with Maven</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2738">$cd &lt;PROJECT_DIR&gt;
$./mvnw clean package</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2740"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Run the Application standalone</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2743">java -jar target/celsius-converter-processor-0.0.1-SNAPSHOT.jar</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If all goes well, we should have a running standalone Spring Boot Application.
Once we verify that the app is started and running without any errors, we can stop it.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_deploy_the_app_to_spring_cloud_data_flow"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Deploy the app to Spring Cloud Data Flow</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2750"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2751"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2756"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2796">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2798"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Register the custom processor</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2801">app register --type processor --name convertToCelsius --uri &lt;File URL of the jar file on the local filesystem where you built the project above&gt; --force</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2803"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the stream</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We will create a stream that uses the out of the box <fo:inline font-family="monospace">http</fo:inline> source and <fo:inline font-family="monospace">log</fo:inline> sink and our custom transformer.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2814">dataflow:&gt;stream create --name convertToCelsiusStream --definition "http  --port=9090 | convertToCelsius | log" --deploy

Created and deployed new stream 'convertToCelsiusStream'</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2816"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2819">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2821"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify that the apps have successfully deployed</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2824">dataflow:&gt;runtime apps</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2826">2016-09-27 10:03:11.988  INFO 95234 --- [nio-9393-exec-9] o.s.c.d.spi.local.LocalAppDeployer       : deploying app convertToCelsiusStream.log instance 0
   Logs will be in /var/folders/2q/krqwcbhj2d58csmthyq_n1nw0000gp/T/spring-cloud-dataflow-3236898888473815319/convertToCelsiusStream-1474984991968/convertToCelsiusStream.log
2016-09-27 10:03:12.397  INFO 95234 --- [nio-9393-exec-9] o.s.c.d.spi.local.LocalAppDeployer       : deploying app convertToCelsiusStream.convertToCelsius instance 0
   Logs will be in /var/folders/2q/krqwcbhj2d58csmthyq_n1nw0000gp/T/spring-cloud-dataflow-3236898888473815319/convertToCelsiusStream-1474984992392/convertToCelsiusStream.convertToCelsius
2016-09-27 10:03:14.445  INFO 95234 --- [nio-9393-exec-9] o.s.c.d.spi.local.LocalAppDeployer       : deploying app convertToCelsiusStream.http instance 0
   Logs will be in /var/folders/2q/krqwcbhj2d58csmthyq_n1nw0000gp/T/spring-cloud-dataflow-3236898888473815319/convertToCelsiusStream-1474984994440/convertToCelsiusStream.http</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2828"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Post sample data to the <fo:inline font-family="monospace">http</fo:inline> endpoint: <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://localhost:9090)"><fo:inline text-decoration="underline" color="#204060">localhost:9090</fo:inline></fo:basic-link></fo:inline> (<fo:inline font-family="monospace">9090</fo:inline> is the <fo:inline font-family="monospace">port</fo:inline> we specified for the <fo:inline font-family="monospace">http</fo:inline> source in this case)</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2847">dataflow:&gt;http post --target http://localhost:9090 --data 76
&gt; POST (text/plain;Charset=UTF-8) http://localhost:9090 76
&gt; 202 ACCEPTED</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2849"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Open the log file for the <fo:inline font-family="monospace">convertToCelsiusStream.log</fo:inline> app to see the output of our stream</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2855">tail -f /var/folders/2q/krqwcbhj2d58csmthyq_n1nw0000gp/T/spring-cloud-dataflow-7563139704229890655/convertToCelsiusStream-1474990317406/convertToCelsiusStream.log/stdout_0.log</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should see the temperature you posted converted to Celsius!</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2859">2016-09-27 10:05:34.933  INFO 95616 --- [CelsiusStream-1] log.sink                                 : 24</fo:block></fo:block><fo:block id="_summary_6"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2866"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2867"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to write a custom <fo:inline font-family="monospace">Processor</fo:inline> stream application</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2873"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> server</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2879"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">shell</fo:inline> application</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="_task_batch"><fo:block font-family="Helvetica,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="18pt"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">3. Task / Batch</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-task-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Task Samples</fo:marker><fo:block font-size="15pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">3.1 Task Samples</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_batch_job_on_cloud_foundry"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Batch Job on Cloud Foundry</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Batch Job on Cloud Foundry</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this demonstration, you will learn how to orchestrate short-lived data processing application (<fo:inline font-style="italic">eg: Spring Batch Jobs</fo:inline>) using <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-task/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Task</fo:inline></fo:basic-link> and <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow</fo:inline></fo:basic-link> on Cloud Foundry.</fo:block><fo:block id="_prerequisites_7"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2908"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2909"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Local <fo:basic-link external-destination="url(https://pivotal.io/pcf-dev)"><fo:inline text-decoration="underline" color="#204060">PCFDev</fo:inline></fo:basic-link> instance</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2915"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Local install of <fo:basic-link external-destination="url(https://github.com/cloudfoundry/cli)"><fo:inline text-decoration="underline" color="#204060">cf CLI</fo:inline></fo:basic-link> command line tool</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2921"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of mysql in PCFDev</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2924"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2935"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2945">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2947"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2953"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2954"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The Spring Cloud Data Flow Cloud Foundry Server running in PCFDev</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Cloud Foundry Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow-server-cloudfoundry)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-cloudfoundry/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2967"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Although you can run the Data Flow Cloud Foundry Server locally and configure it to deploy to any Cloud Foundry instance, we will
deploy the server to Cloud Foundry as recommended.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2970"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2971"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify that CF instance is reachable (Your endpoint urls will be different from what is shown here).</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e2974">$ cf api
API endpoint: https://api.system.io (API version: ...)

$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

No apps found</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2976"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Follow the instructions to deploy the <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow Cloud Foundry server</fo:inline></fo:basic-link>. Don’t worry about creating a Redis service. We won’t need it. If you are familiar with Cloud Foundry
application manifests, we recommend creating a manifest for the the Data Flow server as shown <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow-server-cloudfoundry/docs/current/reference/htmlsingle/#sample-manifest-template)"><fo:inline text-decoration="underline" color="#204060">here</fo:inline></fo:basic-link>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e2985"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/warning.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Warning</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As of this writing, there is a typo on the <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> entry in the sample manifest. <fo:inline font-family="monospace">SPRING_APPLICATION_JSON</fo:inline> must be followed by <fo:inline font-family="monospace">:</fo:inline> and The JSON string must be
wrapped in single quotes. Alternatively, you can replace that line with <fo:inline font-family="monospace">MAVEN_REMOTE_REPOSITORIES_REPO1_URL: <fo:basic-link external-destination="url(https://repo.spring.io/libs-snapshot)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-snapshot</fo:inline></fo:basic-link></fo:inline>.  If your Cloud Foundry installation is behind a firewall, you may need to install the stream apps used in this sample in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/1.3.0.M2/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link> the server to access that repository.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3005"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Once you have successfully executed <fo:inline font-family="monospace">cf push</fo:inline>, verify the dataflow server is running</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3011">$ cf apps
Getting apps in org [your-org] / space [your-space] as user...
OK

name                 requested state   instances   memory   disk   urls
dataflow-server      started           1/1         1G       1G     dataflow-server.app.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3013"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that the <fo:inline font-family="monospace">dataflow-server</fo:inline> application is started and ready for interaction via the url endpoint</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3019"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Connect the <fo:inline font-family="monospace">shell</fo:inline> with <fo:inline font-family="monospace">server</fo:inline> running on Cloud Foundry, e.g., <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://dataflow-server.app.io)"><fo:inline text-decoration="underline" color="#204060">dataflow-server.app.io</fo:inline></fo:basic-link></fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3031">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar

  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
server-unknown:&gt;</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3033">server-unknown:&gt;dataflow config server http://dataflow-server.app.io
Successfully targeted http://dataflow-server.app.io
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3035"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">PCF 1.7.12 or greater is required to run Tasks on Spring Cloud Data Flow. As of this writing, PCFDev and PWS supports builds upon this version.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3038"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Task support needs to be enabled on pcf-dev. Being logged as <fo:inline font-family="monospace">admin</fo:inline>, issue the following command:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3044">cf enable-feature-flag task_creation
Setting status of task_creation as admin...

OK

Feature task_creation Enabled.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3046"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For this sample, all you need is the <fo:inline font-family="monospace">mysql</fo:inline> service and in PCFDev, the <fo:inline font-family="monospace">mysql</fo:inline> service comes with a different plan. From CF CLI, create the service by: <fo:inline font-family="monospace">cf create-service p-mysql 512mb mysql</fo:inline> and bind this service to <fo:inline font-family="monospace">dataflow-server</fo:inline> by: <fo:inline font-family="monospace">cf bind-service dataflow-server mysql</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3064"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">All the apps deployed to PCFDev start with low memory by default. It is recommended to change it to at least 768MB for <fo:inline font-family="monospace">dataflow-server</fo:inline>. Ditto for every app spawned <fo:inline font-weight="bold">by</fo:inline> Spring Cloud Data Flow. Change the memory by: <fo:inline font-family="monospace">cf set-env dataflow-server SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_MEMORY 512</fo:inline>. Likewise, we would have to skip SSL validation by: <fo:inline font-family="monospace">cf set-env dataflow-server SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_SKIP_SSL_VALIDATION true</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3079"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Tasks in Spring Cloud Data Flow require an RDBMS to host "task repository" (see <fo:basic-link external-destination="url(http://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#spring-cloud-dataflow-task-repository)"><fo:inline text-decoration="underline" color="#204060">here</fo:inline></fo:basic-link> for more details), so let’s instruct the Spring Cloud Data Flow server to bind the <fo:inline font-family="monospace">mysql</fo:inline> service to each deployed task:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3088">$ cf set-env dataflow-server SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_TASK_SERVICES mysql
$ cf restage dataflow-server</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3090"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We only need <fo:inline font-family="monospace">mysql</fo:inline> service for this sample.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3096"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>As a recap, here is what you should see as configuration for the Spring Cloud Data Flow server:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3099">cf env dataflow-server

....
User-Provided:
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_DOMAIN: local.pcfdev.io
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_MEMORY: 512
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_ORG: pcfdev-org
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_PASSWORD: pass
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_SKIP_SSL_VALIDATION: false
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_SPACE: pcfdev-space
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_TASK_SERVICES: mysql
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_URL: https://api.local.pcfdev.io
SPRING_CLOUD_DEPLOYER_CLOUDFOUNDRY_USERNAME: user

No running env variables have been set

No staging env variables have been set</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3101"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that <fo:inline font-family="monospace">dataflow-server</fo:inline> application is started and ready for interaction via <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://dataflow-server.local.pcfdev.io)"><fo:inline text-decoration="underline" color="#204060">dataflow-server.local.pcfdev.io</fo:inline></fo:basic-link></fo:inline> endpoint</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3111"><fo:list-item-label end-indent="label-end()"><fo:block>10.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Build and register the batch-job <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-task/tree/master/spring-cloud-task-samples/batch-job)"><fo:inline text-decoration="underline" color="#204060">example</fo:inline></fo:basic-link> from Spring Cloud Task samples. For convenience, the final <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow-samples/raw/master/src/main/asciidoc/tasks/simple-batch-job/batch-job-1.0.0.BUILD-SNAPSHOT.jar)"><fo:inline text-decoration="underline" color="#204060">uber-jar artifact</fo:inline></fo:basic-link> is provided with this sample.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3120">dataflow:&gt;app register --type task --name simple_batch_job --uri https://github.com/spring-cloud/spring-cloud-dataflow-samples/raw/master/tasks/simple-batch-job/batch-job-1.3.0.BUILD-SNAPSHOT.jar</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3122"><fo:list-item-label end-indent="label-end()"><fo:block>11.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create the task with <fo:inline font-family="monospace">simple-batch-job</fo:inline> application</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3128">dataflow:&gt;task create foo --definition "simple_batch_job"</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3130"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Unlike Streams, the Task definitions don’t require explicit deployment. They can be launched on-demand, scheduled, or triggered by streams.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3133"><fo:list-item-label end-indent="label-end()"><fo:block>12.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify there’s <fo:inline font-weight="bold">still</fo:inline> no Task applications running on PCFDev - they are listed only after the initial launch/staging attempt on PCF</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3139">$ cf apps
Getting apps in org pcfdev-org / space pcfdev-space as user...
OK

name              requested state   instances   memory   disk   urls
dataflow-server   started           1/1         768M     512M   dataflow-server.local.pcfdev.io</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3141"><fo:list-item-label end-indent="label-end()"><fo:block>13.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Let’s launch <fo:inline font-family="monospace">foo</fo:inline></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3146">dataflow:&gt;task launch foo</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3148"><fo:list-item-label end-indent="label-end()"><fo:block>14.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the execution of <fo:inline font-family="monospace">foo</fo:inline> by tailing the logs</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3154">$ cf logs foo
Retrieving logs for app foo in org pcfdev-org / space pcfdev-space as user...

2016-08-14T18:48:54.22-0700 [APP/TASK/foo/0]OUT Creating container
2016-08-14T18:48:55.47-0700 [APP/TASK/foo/0]OUT

2016-08-14T18:49:06.59-0700 [APP/TASK/foo/0]OUT 2016-08-15 01:49:06.598  INFO 14 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=job1]] launched with the following parameters: [{}]

...
...

2016-08-14T18:49:06.78-0700 [APP/TASK/foo/0]OUT 2016-08-15 01:49:06.785  INFO 14 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=job1]] completed with the following parameters: [{}] and the following status: [COMPLETED]

...
...

2016-08-14T18:49:07.36-0700 [APP/TASK/foo/0]OUT 2016-08-15 01:49:07.363  INFO 14 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=job2]] launched with the following parameters: [{}]

...
...

2016-08-14T18:49:07.53-0700 [APP/TASK/foo/0]OUT 2016-08-15 01:49:07.536  INFO 14 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: [name=job2]] completed with the following parameters: [{}] and the following status: [COMPLETED]

...
...

2016-08-14T18:49:07.71-0700 [APP/TASK/foo/0]OUT Exit status 0
2016-08-14T18:49:07.78-0700 [APP/TASK/foo/0]OUT Destroying container
2016-08-14T18:49:08.47-0700 [APP/TASK/foo/0]OUT Successfully destroyed container</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3156"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Verify <fo:inline font-family="monospace">job1</fo:inline> and <fo:inline font-family="monospace">job2</fo:inline> operations embeddded in <fo:inline font-family="monospace">simple-batch-job</fo:inline> application are launched independently and they returned with the status <fo:inline font-family="monospace">COMPLETED</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3171"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Unlike LRPs in Cloud Foundry, tasks are short-lived, so the logs aren’t always available. They are generated only when the Task application runs; at the end of Task operation, the container that ran the Task application is destroyed to free-up resources.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3174"><fo:list-item-label end-indent="label-end()"><fo:block>15.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>List Tasks in Cloud Foundry</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3177">$ cf apps
Getting apps in org pcfdev-org / space pcfdev-space as user...
OK

name              requested state   instances   memory   disk   urls
dataflow-server   started           1/1         768M     512M   dataflow-server.local.pcfdev.io
foo               stopped           0/1         1G       1G</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3179"><fo:list-item-label end-indent="label-end()"><fo:block>16.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify Task execution details</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3182">dataflow:&gt;task execution list
╔══════════════════════════╤══╤════════════════════════════╤════════════════════════════╤═════════╗
║        Task Name         │ID│         Start Time         │          End Time          │Exit Code║
╠══════════════════════════╪══╪════════════════════════════╪════════════════════════════╪═════════╣
║foo                       │1 │Sun Aug 14 18:49:05 PDT 2016│Sun Aug 14 18:49:07 PDT 2016│0        ║
╚══════════════════════════╧══╧════════════════════════════╧════════════════════════════╧═════════╝</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3184"><fo:list-item-label end-indent="label-end()"><fo:block>17.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify Job execution details</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3187">dataflow:&gt;job execution list
╔═══╤═══════╤═════════╤════════════════════════════╤═════════════════════╤══════════════════╗
║ID │Task ID│Job Name │         Start Time         │Step Execution Count │Definition Status ║
╠═══╪═══════╪═════════╪════════════════════════════╪═════════════════════╪══════════════════╣
║2  │1      │job2     │Sun Aug 14 18:49:07 PDT 2016│1                    │Destroyed         ║
║1  │1      │job1     │Sun Aug 14 18:49:06 PDT 2016│1                    │Destroyed         ║
╚═══╧═══════╧═════════╧════════════════════════════╧═════════════════════╧══════════════════╝</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_summary_7"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="10pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3194"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3195"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to register and orchestrate Spring Batch jobs in Spring Cloud Data Flow</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3198"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use the <fo:inline font-family="monospace">cf</fo:inline> CLI in the context of Task applications orchestrated by Spring Cloud Data Flow</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3204"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to verify task executions and task repository</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="_analytics"><fo:block font-family="Helvetica,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="18pt"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">4. Analytics</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="spring-cloud-data-flow-samples-twitter-analytics-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Twitter Analytics</fo:marker><fo:block font-size="15pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">4.1 Twitter Analytics</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this demonstration, you will learn how to build a data pipeline using <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Data Flow</fo:inline></fo:basic-link> to consume data from <fo:inline font-style="italic">TwitterStream</fo:inline> and compute simple analytics over data-in-transit using <fo:inline font-style="italic">Field-Value-Counter</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We will take you through the steps to configure Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> server.</fo:block><fo:block id="_prerequisites_8"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Prerequisites</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3232"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3233"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3244"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3254">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3256"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3262"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3263"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running local Data Flow Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Local Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-local/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Local Data Flow server Open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3278">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3280"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3281"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:basic-link external-destination="url(http://redis.io/)"><fo:inline text-decoration="underline" color="#204060">Redis</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3286"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Running instance of <fo:basic-link external-destination="url(http://kafka.apache.org/downloads.html)"><fo:inline text-decoration="underline" color="#204060">Kafka</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3291"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Twitter credentials from <fo:basic-link external-destination="url(https://apps.twitter.com/)"><fo:inline text-decoration="underline" color="#204060">Twitter Developers</fo:inline></fo:basic-link> site</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e3297"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3298"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Kafka binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3303"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3343">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-kafka-10-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3345"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create and deploy the following streams</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3348">(1) dataflow:&gt;stream create tweets --definition "twitterstream --consumerKey=&lt;CONSUMER_KEY&gt; --consumerSecret=&lt;CONSUMER_SECRET&gt; --accessToken=&lt;ACCESS_TOKEN&gt; --accessTokenSecret=&lt;ACCESS_TOKEN_SECRET&gt; | log"
Created new stream 'tweets'

(2) dataflow:&gt;stream create tweetlang  --definition ":tweets.twitterstream &gt; field-value-counter --fieldName=lang --name=language" --deploy
Created and deployed new stream 'tweetlang'

(3) dataflow:&gt;stream create tagcount --definition ":tweets.twitterstream &gt; field-value-counter --fieldName=entities.hashtags.text --name=hashtags" --deploy
Created and deployed new stream 'tagcount'

(4) dataflow:&gt;stream deploy tweets
Deployed stream 'tweets'</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3350"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To get a consumerKey and consumerSecret you need to register a twitter application. If you don’t already have one set up, you can create an app at the <fo:basic-link external-destination="url(https://apps.twitter.com/)"><fo:inline text-decoration="underline" color="#204060">Twitter Developers</fo:inline></fo:basic-link> site to get these credentials. The tokens <fo:inline font-family="monospace">&lt;CONSUMER_KEY&gt;</fo:inline>, <fo:inline font-family="monospace">&lt;CONSUMER_SECRET&gt;</fo:inline>, <fo:inline font-family="monospace">&lt;ACCESS_TOKEN&gt;</fo:inline>, and <fo:inline font-family="monospace">&lt;ACCESS_TOKEN_SECRET&gt;</fo:inline> are required to be replaced with your account credentials.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3368"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the streams are successfully deployed. Where: (1) is the primary pipeline; (2) and (3) are tapping the primary pipeline with the DSL syntax <fo:inline font-family="monospace">&lt;stream-name&gt;.&lt;label/app name&gt;</fo:inline> [e.x. <fo:inline font-family="monospace">:tweets.twitterstream</fo:inline>]; and (4) is the final deployment of primary pipeline</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3377">dataflow:&gt;stream list</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3379"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that <fo:inline font-family="monospace">tweetlang.field-value-counter</fo:inline>, <fo:inline font-family="monospace">tagcount.field-value-counter</fo:inline>, <fo:inline font-family="monospace">tweets.log</fo:inline> and <fo:inline font-family="monospace">tweets.twitterstream</fo:inline> <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Stream</fo:inline></fo:basic-link> applications are running as Spring Boot applications within the <fo:inline font-family="monospace">local-server</fo:inline>.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3400">2016-02-16 11:43:26.174  INFO 10189 --- [nio-9393-exec-2] o.s.c.d.d.l.OutOfProcessModuleDeployer   : deploying module org.springframework.cloud.stream.module:field-value-counter-sink:jar:exec:1.0.0.BUILD-SNAPSHOT instance 0
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gp/T/spring-cloud-data-flow-6990537012958280418/tweetlang-1455651806160/tweetlang.field-value-counter
2016-02-16 11:43:26.206  INFO 10189 --- [nio-9393-exec-3] o.s.c.d.d.l.OutOfProcessModuleDeployer   : deploying module org.springframework.cloud.stream.module:field-value-counter-sink:jar:exec:1.0.0.BUILD-SNAPSHOT instance 0
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gp/T/spring-cloud-data-flow-6990537012958280418/tagcount-1455651806202/tagcount.field-value-counter
2016-02-16 11:43:26.806  INFO 10189 --- [nio-9393-exec-4] o.s.c.d.d.l.OutOfProcessModuleDeployer   : deploying module org.springframework.cloud.stream.module:log-sink:jar:exec:1.0.0.BUILD-SNAPSHOT instance 0
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gp/T/spring-cloud-data-flow-6990537012958280418/tweets-1455651806800/tweets.log
2016-02-16 11:43:26.813  INFO 10189 --- [nio-9393-exec-4] o.s.c.d.d.l.OutOfProcessModuleDeployer   : deploying module org.springframework.cloud.stream.module:twitterstream-source:jar:exec:1.0.0.BUILD-SNAPSHOT instance 0
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gp/T/spring-cloud-data-flow-6990537012958280418/tweets-1455651806800/tweets.twitterstream</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3402"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify that two <fo:inline font-family="monospace">field-value-counter</fo:inline> with the names <fo:inline font-family="monospace">hashtags</fo:inline> and <fo:inline font-family="monospace">language</fo:inline> is listing successfully</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3414">dataflow:&gt;field-value-counter list
╔════════════════════════╗
║Field Value Counter name║
╠════════════════════════╣
║hashtags                ║
║language                ║
╚════════════════════════╝</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3416"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify you can query individual <fo:inline font-family="monospace">field-value-counter</fo:inline> results successfully</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3422">dataflow:&gt;field-value-counter display hashtags
Displaying values for field value counter 'hashtags'
╔══════════════════════════════════════╤═════╗
║                Value                 │Count║
╠══════════════════════════════════════╪═════╣
║KCA                                   │   40║
║PENNYSTOCKS                           │   17║
║TEAMBILLIONAIRE                       │   17║
║UCL                                   │   11║
║...                                   │   ..║
║...                                   │   ..║
║...                                   │   ..║
╚══════════════════════════════════════╧═════╝

dataflow:&gt;field-value-counter display language
Displaying values for field value counter 'language'
╔═════╤═════╗
║Value│Count║
╠═════╪═════╣
║en   │1,171║
║es   │  337║
║ar   │  296║
║und  │  251║
║pt   │  175║
║ja   │  137║
║..   │  ...║
║..   │  ...║
║..   │  ...║
╚═════╧═════╝</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3424"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Go to <fo:inline font-family="monospace">Dashboard</fo:inline> accessible at <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link></fo:inline> and launch the <fo:inline font-family="monospace">Analytics</fo:inline> tab. From the default <fo:inline font-family="monospace">Dashboard</fo:inline> menu, select the following combinations to visualize real-time updates on <fo:inline font-family="monospace">field-value-counter</fo:inline>.</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3443"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3444"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>For real-time updates on <fo:inline font-family="monospace">language</fo:inline> tags, select:</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e3450"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3451"><fo:list-item-label end-indent="label-end()"><fo:block>a.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Metric Type as <fo:inline font-family="monospace">Field-Value-Counters</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3456"><fo:list-item-label end-indent="label-end()"><fo:block>b.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Stream as <fo:inline font-family="monospace">language</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3461"><fo:list-item-label end-indent="label-end()"><fo:block>c.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Visualization as <fo:inline font-family="monospace">Bubble-Chart</fo:inline> or <fo:inline font-family="monospace">Pie-Chart</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3469"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>For real-time updates on <fo:inline font-family="monospace">hashtags</fo:inline> tags, select:</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e3475"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3476"><fo:list-item-label end-indent="label-end()"><fo:block>a.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Metric Type as <fo:inline font-family="monospace">Field-Value-Counters</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3481"><fo:list-item-label end-indent="label-end()"><fo:block>b.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Stream as <fo:inline font-family="monospace">hashtags</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3486"><fo:list-item-label end-indent="label-end()"><fo:block>c.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Visualization as <fo:inline font-family="monospace">Bubble-Chart</fo:inline> or <fo:inline font-family="monospace">Pie-Chart</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" id="d0e3494"><fo:block id="d0e3495"><fo:external-graphic src="url(images/twitter_analytics.png)" width="50%" height="auto" content-width="scale-to-fit" content-height="scale-to-fit"/></fo:block></fo:block></fo:block><fo:block id="_summary_8"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Summary</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3506"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3507"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> server</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3513"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">shell</fo:inline> application</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3519"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to create streaming data pipeline to compute simple analytics using <fo:inline font-family="monospace">Twitter Stream</fo:inline> and <fo:inline font-family="monospace">Field Value Counter</fo:inline> applications</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="Helvetica" margin-left="-5em" margin-right="-5em" font-size="8pt"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-inner-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-inner-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-first"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-odd"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-even"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-outer-blank"><fo:block/></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>1.2.0.BUILD-SNAPSHOT</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block>Spring Cloud Data Flow Samples </fo:block></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="Helvetica" margin-left="0cm" font-size="8pt"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="_functions"><fo:block font-family="Helvetica,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="18pt"><fo:block keep-with-next.within-column="always" space-before.optimum="10pt" space-before.minimum="10pt * 0.8" space-before.maximum="10pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">5. Functions</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="_functions_in_spring_cloud_data_flow"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Functions in Spring Cloud Data Flow</fo:marker><fo:block font-size="15pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">5.1 Functions in Spring Cloud Data Flow</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you will learn how to use <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-function)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Function</fo:inline></fo:basic-link> based streaming applications in Spring Cloud Data Flow. To learn more about Spring Cloud Function, check out the <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-function/)"><fo:inline text-decoration="underline" color="#204060">project page</fo:inline></fo:basic-link>.</fo:block><fo:block id="_prerequisites_9"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Prerequisites</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Prerequisites</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3545"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3546"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A Running Data Flow Shell</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is available for <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3557"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <fo:inline font-family="monospace">./mvnw install</fo:inline> from the project root directory. If you have already run the build, use the jar in <fo:inline font-family="monospace">spring-cloud-dataflow-shell/target</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Shell open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3567">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3569"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server’s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <fo:basic-link external-destination="url(http://localhost:9393/dashboard)"><fo:inline text-decoration="underline" color="#204060">localhost:9393/dashboard</fo:inline></fo:basic-link>, (or wherever it the server is hosted) to perform the same operations.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3575"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3576"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running local Data Flow Server</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Local Data Flow Server is Spring Boot application available for <fo:basic-link external-destination="url(http://cloud.spring.io/spring-cloud-dataflow/)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> or you can <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> it yourself.
If you build it yourself, the executable jar will be in <fo:inline font-family="monospace">spring-cloud-dataflow-server-local/target</fo:inline></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To run the Local Data Flow server Open a new terminal session:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3591">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3593"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3594"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A local build of <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-function)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Function</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3599"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A running instance of <fo:basic-link external-destination="url(https://www.rabbitmq.com/)"><fo:inline text-decoration="underline" color="#204060">Rabbit MQ</fo:inline></fo:basic-link></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3604"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>General understanding of the out-of-the-box <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters/function/blob/master/spring-cloud-starter-stream-app-function/README.adoc)"><fo:inline text-decoration="underline" color="#204060">function-runner</fo:inline></fo:basic-link> application</fo:block><fo:list-block provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e3610"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3611"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app)"><fo:inline text-decoration="underline" color="#204060">Register</fo:inline></fo:basic-link> the out-of-the-box applications for the Rabbit binder</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3616"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">These samples assume that the Data Flow Server can access a remote Maven repository, <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io/libs-release)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io/libs-release</fo:inline></fo:basic-link></fo:inline> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <fo:basic-link external-destination="url(https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration)"><fo:inline text-decoration="underline" color="#204060">configure</fo:inline></fo:basic-link>
the server accordingly.  The sample applications are typically registered using Data Flow’s bulk import facility. For example, the Shell command <fo:inline font-family="monospace">dataflow:&gt;app import --uri <fo:basic-link external-destination="url(http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven)"><fo:inline text-decoration="underline" color="#204060">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:inline></fo:basic-link></fo:inline> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <fo:inline font-family="monospace"><fo:basic-link external-destination="url(https://repo.spring.io)"><fo:inline text-decoration="underline" color="#204060">repo.spring.io</fo:inline></fo:basic-link></fo:inline>. For example,
<fo:inline font-family="monospace">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</fo:inline> registers the <fo:inline font-family="monospace">http</fo:inline> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <fo:inline font-family="monospace">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</fo:inline>  You will need to <fo:basic-link external-destination="url(https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties)"><fo:inline text-decoration="underline" color="#204060">download</fo:inline></fo:basic-link> the required apps or <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters)"><fo:inline text-decoration="underline" color="#204060">build</fo:inline></fo:basic-link> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <fo:inline font-family="monospace">dataflow:&gt;app register…​</fo:inline> using the <fo:inline font-family="monospace">maven://</fo:inline> resource URI format corresponding to your installed app.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3656">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3658"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Register the out-of-the-box <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters/function/blob/master/spring-cloud-starter-stream-app-function/README.adoc)"><fo:inline text-decoration="underline" color="#204060">function-runner</fo:inline></fo:basic-link> application (<fo:inline font-style="italic">we will use the <fo:inline font-family="monospace">1.0.0.BUILD-SNAPSHOT</fo:inline> built by the Spring CI system</fo:inline>)</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3670">dataflow:&gt;app register --name function-runner --type processor --uri http://repo.spring.io/libs-snapshot/org/springframework/cloud/stream/app/function-app-rabbit/1.0.0.BUILD-SNAPSHOT/function-app-rabbit-1.0.0.BUILD-SNAPSHOT.jar --metadata-uri http://repo.spring.io/libs-snapshot/org/springframework/cloud/stream/app/function-app-rabbit/1.0.0.BUILD-SNAPSHOT/function-app-rabbit-1.0.0.BUILD-SNAPSHOT-metadata.jar</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3672"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Create and deploy the following stream</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3675">dataflow:&gt;stream create foo --definition "http --server.port=9001 | function-runner --function.className=com.example.functions.CharCounter --function.location=file:///&lt;PATH/TO/SPRING-CLOUD-FUNCTION&gt;/spring-cloud-function-samples/function-sample/target/spring-cloud-function-sample-1.0.0.BUILD-SNAPSHOT.jar | log" --deploy</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3677"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Replace the <fo:inline font-family="monospace">&lt;PATH/TO/SPRING-CLOUD-FUNCTION&gt;</fo:inline> with the correct path.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" space-after.optimum="1em" space-after.minimum="0.8em" space-after.maximum="1.2em" id="d0e3683"><fo:list-block provisional-distance-between-starts="18pt + 18pt" provisional-label-separation="18pt"><fo:list-item><fo:list-item-label end-indent="label-end()"><fo:block><fo:external-graphic width="auto" height="auto" content-width="18pt" src="url(images/note.png)"/></fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block font-size="10pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always" margin-left="0">Note</fo:block><fo:block space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0em"><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The source core of <fo:inline font-family="monospace">CharCounter</fo:inline> function is in Spring cloud Function’s <fo:basic-link external-destination="url(https://github.com/spring-cloud/spring-cloud-function/blob/master/spring-cloud-function-samples/function-sample/src/main/java/com/example/functions/CharCounter.java)"><fo:inline text-decoration="underline" color="#204060">samples repo</fo:inline></fo:basic-link>.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3692"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Verify the stream is successfully deployed.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3695">dataflow:&gt;stream list
╔══════╤══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╤════════════╗
║Stream│                                                                                        Stream Definition                                                                                         │   Status   ║
║ Name │                                                                                                                                                                                                  │            ║
╠══════╪══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╪════════════╣
║foo   │http --server.port=9001 | function-runner --function.className=com.example.functions.CharCounter                                                                                                  │All apps    ║
║      │--function.location=file:///&lt;PATH/TO/SPRING-CLOUD-FUNCTION&gt;/spring-cloud-function-samples/function-sample/target/spring-cloud-function-sample-1.0.0.BUILD-&lt;SNAPSHOT class=<fo:inline font-weight="bold" font-style="italic" color="#2A00FF">"jar"</fo:inline>&gt;&lt;/SNAPSHOT&gt;		    │have been   ║
║      │| log                                                                                                                                                                                             │successfully║
║      │                                                                                                                                                                                                  │deployed    ║
╚══════╧══════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════════╧════════════╝</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3697"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Notice that <fo:inline font-family="monospace">foo-http</fo:inline>, <fo:inline font-family="monospace">foo-function-runner</fo:inline>, and <fo:inline font-family="monospace">foo-log</fo:inline> <fo:basic-link external-destination="url(https://github.com/spring-cloud-stream-app-starters/)"><fo:inline text-decoration="underline" color="#204060">Spring Cloud Stream</fo:inline></fo:basic-link> applications are running as Spring Boot applications and the log locations will be printed in the Local-server console.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3712">....
....
2017-10-17 11:43:03.714  INFO 18409 --- [nio-9393-<fo:inline font-weight="bold" color="#7F0055">exec</fo:inline>-7] o.s.c.d.s.s.AppDeployerStreamDeployer    : Deploying application named [log] as part of stream named [foo] with resource URI [maven://org.springframework.cloud.stream.app:log-sink-rabbit:jar:1.2.0.RELEASE]
2017-10-17 11:43:04.379  INFO 18409 --- [nio-9393-<fo:inline font-weight="bold" color="#7F0055">exec</fo:inline>-7] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId foo.log instance 0.
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/spring-cloud-dataflow-6549025456609489200/foo-1508265783715/foo.log
2017-10-17 11:43:04.380  INFO 18409 --- [nio-9393-<fo:inline font-weight="bold" color="#7F0055">exec</fo:inline>-7] o.s.c.d.s.s.AppDeployerStreamDeployer    : Deploying application named [function-runner] as part of stream named [foo] with resource URI [file:/var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/deployer-resource-cache8941581850579153886/http-c73a62adae0abd7ec0dee91d891575709f02f8c9]
2017-10-17 11:43:04.384  INFO 18409 --- [nio-9393-<fo:inline font-weight="bold" color="#7F0055">exec</fo:inline>-7] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId foo.function-runner instance 0.
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/spring-cloud-dataflow-6549025456609489200/foo-1508265784380/foo.function-runner
2017-10-17 11:43:04.385  INFO 18409 --- [nio-9393-<fo:inline font-weight="bold" color="#7F0055">exec</fo:inline>-7] o.s.c.d.s.s.AppDeployerStreamDeployer    : Deploying application named [http] as part of stream named [foo] with resource URI [maven://org.springframework.cloud.stream.app:http-source-rabbit:jar:1.2.0.RELEASE]
2017-10-17 11:43:04.391  INFO 18409 --- [nio-9393-<fo:inline font-weight="bold" color="#7F0055">exec</fo:inline>-7] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId foo.http instance 0.
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/spring-cloud-dataflow-6549025456609489200/foo-1508265784385/foo.http
....
....</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3714"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Post sample data pointing to the <fo:inline font-family="monospace">http</fo:inline> endpoint: <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://localhost:9001)"><fo:inline text-decoration="underline" color="#204060">localhost:9001</fo:inline></fo:basic-link></fo:inline> (<fo:inline font-family="monospace">9001</fo:inline> is the <fo:inline font-family="monospace">port</fo:inline> we specified for the <fo:inline font-family="monospace">http</fo:inline> source in this case)</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3733">dataflow:&gt;http post --target http://localhost:9001 --data "hello world"
&gt; POST (text/plain) http://localhost:9001 hello world
&gt; 202 ACCEPTED


dataflow:&gt;http post --target http://localhost:9001 --data "hmm, yeah, it works now!"
&gt; POST (text/plain) http://localhost:9001 hmm, yeah, it works now!
&gt; 202 ACCEPTED</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3735"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Tail the log-sink’s standard-out logs to see the character counts</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="7pt" keep-together.within-column="1" background-color="#F0F0F0" id="d0e3738">$ tail -f /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/spring-cloud-dataflow-6549025456609489200/foo-1508265783715/foo.log/stdout_0.log

....
....
....
....
2017-10-17 11:45:39.363  INFO 19193 --- [on-runner.foo-1] log-sink                                 : 11
2017-10-17 11:46:40.997  INFO 19193 --- [on-runner.foo-1] log-sink                                 : 24
....
....</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="_summary_9"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="Helvetica,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="Helvetica,Symbol,ZapfDingbats" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Summary</fo:marker><fo:block font-size="12.5pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this sample, you have learned:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e3745"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3746"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">Local</fo:inline> server</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3752"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use Spring Cloud Data Flow’s <fo:inline font-family="monospace">shell</fo:inline> application</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3758"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>How to use the out-of-the-box <fo:inline font-family="monospace">function-runner</fo:inline> application in Spring Cloud Data Flow</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:flow></fo:page-sequence></fo:root>