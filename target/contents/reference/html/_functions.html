<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>5.&nbsp;Functions</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="Spring Cloud Data Flow Samples"><link rel="up" href="index.html" title="Spring Cloud Data Flow Samples"><link rel="prev" href="_analytics.html" title="4.&nbsp;Analytics"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5.&nbsp;Functions</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="_analytics.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;</td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_functions" href="#_functions"></a>5.&nbsp;Functions</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_functions_in_spring_cloud_data_flow" href="#_functions_in_spring_cloud_data_flow"></a>5.1&nbsp;Functions in Spring Cloud Data Flow</h2></div></div></div><p>In this sample, you will learn how to use <a class="link" href="https://github.com/spring-cloud/spring-cloud-function" target="_top">Spring Cloud Function</a> based streaming applications in Spring Cloud Data Flow. To learn more about Spring Cloud Function, check out the <a class="link" href="http://cloud.spring.io/spring-cloud-function/" target="_top">project page</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_prerequisites_9" href="#_prerequisites_9"></a>5.1.1&nbsp;Prerequisites</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">A Running Data Flow Shell</li></ul></div><p>The Spring Cloud Data Flow Shell is available for <a class="link" href="https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-deploying-spring-cloud-dataflow" target="_top">download</a> or you can <a class="link" href="https://github.com/spring-cloud/spring-cloud-dataflow" target="_top">build</a> it yourself.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>the Spring Cloud Data Flow Shell and Local server implementation are in the same repository and are both built by running <code class="literal">./mvnw install</code> from the project root directory. If you have already run the build, use the jar in <code class="literal">spring-cloud-dataflow-shell/target</code></p></td></tr></table></div><p>To run the Shell open a new terminal session:</p><pre class="screen">$ cd &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-SHELL-JAR&gt;
$ java -jar spring-cloud-dataflow-shell-&lt;VERSION&gt;.jar
  ____                              ____ _                __
 / ___| _ __  _ __(_)_ __   __ _   / ___| | ___  _   _  __| |
 \___ \| '_ \| '__| | '_ \ / _` | | |   | |/ _ \| | | |/ _` |
  ___) | |_) | |  | | | | | (_| | | |___| | (_) | |_| | (_| |
 |____/| .__/|_|  |_|_| |_|\__, |  \____|_|\___/ \__,_|\__,_|
  ____ |_|    _          __|___/                 __________
 |  _ \  __ _| |_ __ _  |  ___| | _____      __  \ \ \ \ \ \
 | | | |/ _` | __/ _` | | |_  | |/ _ \ \ /\ / /   \ \ \ \ \ \
 | |_| | (_| | || (_| | |  _| | | (_) \ V  V /    / / / / / /
 |____/ \__,_|\__\__,_| |_|   |_|\___/ \_/\_/    /_/_/_/_/_/


Welcome to the Spring Cloud Data Flow shell. For assistance hit TAB or type "help".
dataflow:&gt;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The Spring Cloud Data Flow Shell is a Spring Boot application that connects to the Data Flow Server&#8217;s REST API and supports a DSL that simplifies the process of defining a stream or task and managing its lifecycle. Most of these samples
use the shell. If you prefer, you can use the Data Flow UI <a class="link" href="http://localhost:9393/dashboard" target="_top">localhost:9393/dashboard</a>, (or wherever it the server is hosted) to perform the same operations.</p></td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">A running local Data Flow Server</li></ul></div><p>The Local Data Flow Server is Spring Boot application available for <a class="link" href="http://cloud.spring.io/spring-cloud-dataflow/" target="_top">download</a> or you can <a class="link" href="https://github.com/spring-cloud/spring-cloud-dataflow" target="_top">build</a> it yourself.
If you build it yourself, the executable jar will be in <code class="literal">spring-cloud-dataflow-server-local/target</code></p><p>To run the Local Data Flow server Open a new terminal session:</p><pre class="screen">$cd  &lt;PATH/TO/SPRING-CLOUD-DATAFLOW-LOCAL-JAR&gt;
$java -jar spring-cloud-dataflow-server-local-&lt;VERSION&gt;.jar</pre><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">A local build of <a class="link" href="https://github.com/spring-cloud/spring-cloud-function" target="_top">Spring Cloud Function</a></li><li class="listitem">A running instance of <a class="link" href="https://www.rabbitmq.com/" target="_top">Rabbit MQ</a></li><li class="listitem"><p class="simpara">General understanding of the out-of-the-box <a class="link" href="https://github.com/spring-cloud-stream-app-starters/function/blob/master/spring-cloud-starter-stream-app-function/README.adoc" target="_top">function-runner</a> application</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara"><a class="link" href="https://github.com/spring-cloud/spring-cloud-dataflow/blob/master/spring-cloud-dataflow-docs/src/main/asciidoc/streams.adoc#register-a-stream-app" target="_top">Register</a> the out-of-the-box applications for the Rabbit binder</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>These samples assume that the Data Flow Server can access a remote Maven repository, <code class="literal"><a class="link" href="https://repo.spring.io/libs-release" target="_top">repo.spring.io/libs-release</a></code> by default. If your Data Flow server is running behind a firewall, or you are using a maven proxy preventing
access to public repositories, you will need to install the sample apps in your internal Maven repository and <a class="link" href="https://docs.spring.io/spring-cloud-dataflow/docs/current/reference/htmlsingle/#getting-started-maven-configuration" target="_top">configure</a>
the server accordingly.  The sample applications are typically registered using Data Flow&#8217;s bulk import facility. For example, the Shell command <code class="literal">dataflow:&gt;app import --uri <a class="link" href="http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven" target="_top">bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</a></code> (The actual URI is release and binder specific so refer to the sample instructions for the actual URL).
The bulk import URI references a plain text file containing entries for all of the publicly available Spring Cloud Stream and Task applications published to <code class="literal"><a class="link" href="https://repo.spring.io" target="_top">repo.spring.io</a></code>. For example,
<code class="literal">source.http=maven://org.springframework.cloud.stream.app:http-source-rabbit:1.2.0.RELEASE</code> registers the <code class="literal">http</code> source app at the corresponding Maven address, relative to the remote repository(ies) configured for the
Data Flow server. The format is <code class="literal">maven://&lt;groupId&gt;:&lt;artifactId&gt;:&lt;version&gt;</code>  You will need to <a class="link" href="https://repo.spring.io/libs-release/org/springframework/cloud/stream/app/spring-cloud-stream-app-descriptor/Bacon.RELEASE/spring-cloud-stream-app-descriptor-Bacon.RELEASE.rabbit-apps-maven-repo-url.properties" target="_top">download</a> the required apps or <a class="link" href="https://github.com/spring-cloud-stream-app-starters" target="_top">build</a> them and then install them in your Maven repository, using whatever group, artifact, and version you choose. If you do
this, register individual apps using <code class="literal">dataflow:&gt;app register&#8230;&#8203;</code> using the <code class="literal">maven://</code> resource URI format corresponding to your installed app.</p></td></tr></table></div><pre class="screen">dataflow:&gt;app import --uri http://bit.ly/Bacon-RELEASE-stream-applications-rabbit-maven</pre></li><li class="listitem"><p class="simpara">Register the out-of-the-box <a class="link" href="https://github.com/spring-cloud-stream-app-starters/function/blob/master/spring-cloud-starter-stream-app-function/README.adoc" target="_top">function-runner</a> application (<span class="emphasis"><em>we will use the <code class="literal">1.0.0.BUILD-SNAPSHOT</code> built by the Spring CI system</em></span>)</p><pre class="screen">dataflow:&gt;app register --name function-runner --type processor --uri http://repo.spring.io/libs-snapshot/org/springframework/cloud/stream/app/function-app-rabbit/1.0.0.BUILD-SNAPSHOT/function-app-rabbit-1.0.0.BUILD-SNAPSHOT.jar --metadata-uri http://repo.spring.io/libs-snapshot/org/springframework/cloud/stream/app/function-app-rabbit/1.0.0.BUILD-SNAPSHOT/function-app-rabbit-1.0.0.BUILD-SNAPSHOT-metadata.jar</pre></li><li class="listitem"><p class="simpara">Create and deploy the following stream</p><pre class="screen">dataflow:&gt;stream create foo --definition "http --server.port=9001 | function-runner --function.className=com.example.functions.CharCounter --function.location=file:///&lt;PATH/TO/SPRING-CLOUD-FUNCTION&gt;/spring-cloud-function-samples/function-sample/target/spring-cloud-function-sample-1.0.0.BUILD-SNAPSHOT.jar | log" --deploy</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Replace the <code class="literal">&lt;PATH/TO/SPRING-CLOUD-FUNCTION&gt;</code> with the correct path.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The source core of <code class="literal">CharCounter</code> function is in Spring cloud Function&#8217;s <a class="link" href="https://github.com/spring-cloud/spring-cloud-function/blob/master/spring-cloud-function-samples/function-sample/src/main/java/com/example/functions/CharCounter.java" target="_top">samples repo</a>.</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Verify the stream is successfully deployed.</p><pre class="programlisting">dataflow:&gt;stream list
&#9556;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9572;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9572;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9559;
&#9553;Stream&#9474;                                                                                        Stream Definition                                                                                         &#9474;   Status   &#9553;
&#9553; Name &#9474;                                                                                                                                                                                                  &#9474;            &#9553;
&#9568;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9578;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9578;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9571;
&#9553;foo   &#9474;http --server.port=<span class="hl-number">9001</span> | function-runner --function.className=com.example.functions.CharCounter                                                                                                  &#9474;All apps    &#9553;
&#9553;      &#9474;--function.location=file:///&lt;PATH/TO/SPRING-CLOUD-FUNCTION&gt;/spring-cloud-function-samples/function-sample/target/spring-cloud-function-sample-<span class="hl-number">1.0</span>.<span class="hl-number">0.</span>BUILD-&lt;SNAPSHOT class=<span xmlns:d="http://docbook.org/ns/docbook" class="hl-string">"jar"</span>&gt;&lt;/SNAPSHOT&gt;		    &#9474;have been   &#9553;
&#9553;      &#9474;| log                                                                                                                                                                                             &#9474;successfully&#9553;
&#9553;      &#9474;                                                                                                                                                                                                  &#9474;deployed    &#9553;
&#9562;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9575;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9575;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9565;</pre></li><li class="listitem"><p class="simpara">Notice that <code class="literal">foo-http</code>, <code class="literal">foo-function-runner</code>, and <code class="literal">foo-log</code> <a class="link" href="https://github.com/spring-cloud-stream-app-starters/" target="_top">Spring Cloud Stream</a> applications are running as Spring Boot applications and the log locations will be printed in the Local-server console.</p><pre class="programlisting">....
....
<span class="hl-number">2017</span>-<span class="hl-number">10</span>-<span class="hl-number">17</span> <span class="hl-number">11</span>:<span class="hl-number">43</span>:<span class="hl-number">03.714</span>  INFO <span class="hl-number">18409</span> --- [nio-<span class="hl-number">9393</span>-<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">exec</span>-<span class="hl-number">7</span>] o.s.c.d.s.s.AppDeployerStreamDeployer    : Deploying application named [log] as part of stream named [foo] with resource URI [maven://org.springframework.cloud.stream.app:log-sink-rabbit:jar:<span class="hl-number">1.2</span>.<span class="hl-number">0.</span>RELEASE]
<span class="hl-number">2017</span>-<span class="hl-number">10</span>-<span class="hl-number">17</span> <span class="hl-number">11</span>:<span class="hl-number">43</span>:<span class="hl-number">04.379</span>  INFO <span class="hl-number">18409</span> --- [nio-<span class="hl-number">9393</span>-<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">exec</span>-<span class="hl-number">7</span>] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId foo.log instance <span class="hl-number">0.</span>
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/spring-cloud-dataflow-<span class="hl-number">6549025456609489200</span>/foo-<span class="hl-number">1508265783715</span>/foo.log
<span class="hl-number">2017</span>-<span class="hl-number">10</span>-<span class="hl-number">17</span> <span class="hl-number">11</span>:<span class="hl-number">43</span>:<span class="hl-number">04.380</span>  INFO <span class="hl-number">18409</span> --- [nio-<span class="hl-number">9393</span>-<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">exec</span>-<span class="hl-number">7</span>] o.s.c.d.s.s.AppDeployerStreamDeployer    : Deploying application named [function-runner] as part of stream named [foo] with resource URI [file:/var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/deployer-resource-cache8941581850579153886/http-c73a62adae0abd7ec0dee91d891575709f02f8c9]
<span class="hl-number">2017</span>-<span class="hl-number">10</span>-<span class="hl-number">17</span> <span class="hl-number">11</span>:<span class="hl-number">43</span>:<span class="hl-number">04.384</span>  INFO <span class="hl-number">18409</span> --- [nio-<span class="hl-number">9393</span>-<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">exec</span>-<span class="hl-number">7</span>] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId foo.function-runner instance <span class="hl-number">0.</span>
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/spring-cloud-dataflow-<span class="hl-number">6549025456609489200</span>/foo-<span class="hl-number">1508265784380</span>/foo.function-runner
<span class="hl-number">2017</span>-<span class="hl-number">10</span>-<span class="hl-number">17</span> <span class="hl-number">11</span>:<span class="hl-number">43</span>:<span class="hl-number">04.385</span>  INFO <span class="hl-number">18409</span> --- [nio-<span class="hl-number">9393</span>-<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">exec</span>-<span class="hl-number">7</span>] o.s.c.d.s.s.AppDeployerStreamDeployer    : Deploying application named [http] as part of stream named [foo] with resource URI [maven://org.springframework.cloud.stream.app:http-source-rabbit:jar:<span class="hl-number">1.2</span>.<span class="hl-number">0.</span>RELEASE]
<span class="hl-number">2017</span>-<span class="hl-number">10</span>-<span class="hl-number">17</span> <span class="hl-number">11</span>:<span class="hl-number">43</span>:<span class="hl-number">04.391</span>  INFO <span class="hl-number">18409</span> --- [nio-<span class="hl-number">9393</span>-<span xmlns:d="http://docbook.org/ns/docbook" class="hl-keyword">exec</span>-<span class="hl-number">7</span>] o.s.c.d.spi.local.LocalAppDeployer       : Deploying app with deploymentId foo.http instance <span class="hl-number">0.</span>
   Logs will be in /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/spring-cloud-dataflow-<span class="hl-number">6549025456609489200</span>/foo-<span class="hl-number">1508265784385</span>/foo.http
....
....</pre></li><li class="listitem"><p class="simpara">Post sample data pointing to the <code class="literal">http</code> endpoint: <code class="literal"><a class="link" href="http://localhost:9001" target="_top">localhost:9001</a></code> (<code class="literal">9001</code> is the <code class="literal">port</code> we specified for the <code class="literal">http</code> source in this case)</p><pre class="screen">dataflow:&gt;http post --target http://localhost:9001 --data "hello world"
&gt; POST (text/plain) http://localhost:9001 hello world
&gt; 202 ACCEPTED


dataflow:&gt;http post --target http://localhost:9001 --data "hmm, yeah, it works now!"
&gt; POST (text/plain) http://localhost:9001 hmm, yeah, it works now!
&gt; 202 ACCEPTED</pre></li><li class="listitem"><p class="simpara">Tail the log-sink&#8217;s standard-out logs to see the character counts</p><pre class="programlisting">$ tail -f /var/folders/c3/ctx7_rns6x30tq7rb76wzqwr0000gs/T/spring-cloud-dataflow-<span class="hl-number">6549025456609489200</span>/foo-<span class="hl-number">1508265783715</span>/foo.log/stdout_<span class="hl-number">0.</span>log

....
....
....
....
<span class="hl-number">2017</span>-<span class="hl-number">10</span>-<span class="hl-number">17</span> <span class="hl-number">11</span>:<span class="hl-number">45</span>:<span class="hl-number">39.363</span>  INFO <span class="hl-number">19193</span> --- [on-runner.foo-<span class="hl-number">1</span>] log-sink                                 : <span class="hl-number">11</span>
<span class="hl-number">2017</span>-<span class="hl-number">10</span>-<span class="hl-number">17</span> <span class="hl-number">11</span>:<span class="hl-number">46</span>:<span class="hl-number">40.997</span>  INFO <span class="hl-number">19193</span> --- [on-runner.foo-<span class="hl-number">1</span>] log-sink                                 : <span class="hl-number">24</span>
....
....</pre></li></ol></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_summary_9" href="#_summary_9"></a>5.1.2&nbsp;Summary</h3></div></div></div><p>In this sample, you have learned:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">How to use Spring Cloud Data Flow&#8217;s <code class="literal">Local</code> server</li><li class="listitem">How to use Spring Cloud Data Flow&#8217;s <code class="literal">shell</code> application</li><li class="listitem">How to use the out-of-the-box <code class="literal">function-runner</code> application in Spring Cloud Data Flow</li></ul></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="_analytics.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;</td></tr><tr><td width="40%" align="left" valign="top">4.&nbsp;Analytics&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;</td></tr></table></div></body></html>